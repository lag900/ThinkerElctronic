import{g as L,c as i,a as y,u as t,h as E,w as k,b as e,t as l,o as d,n as f,i as c,v as u,F as m,r as C,d as I,e as j,j as M,k as S,l as O,m as v,f as P,p as V}from"./app-CP-pjwJw.js";import{_ as F}from"./AdminLayout-BOQgtYvf.js";import{c as a}from"./CartStore-DMP8QdRv.js";const T=["dir"],D={class:"flex flex-col md:flex-row justify-between items-center gap-6 pb-8 border-b border-[#f1f1f1]"},R={class:"text-2xl font-black text-[#1e1e1e] tracking-tight"},q={class:"text-xs text-gray-400 font-bold mt-1 uppercase tracking-widest"},G={class:"flex flex-col md:flex-row gap-4 items-center w-full md:w-auto"},Q={class:"relative w-full md:w-72"},J=["placeholder"],K={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},W={class:"text-[11px] font-black text-gray-400 group-hover:text-[#ff2b2b] uppercase tracking-widest transition-colors"},X={class:"flex flex-col gap-6"},Y={class:"flex items-start justify-between"},Z={class:"w-14 h-14 bg-[#fff3f3] rounded-2xl flex items-center justify-center text-[#ff2b2b] border border-red-50 shadow-sm shrink-0 overflow-hidden"},ee=["src"],te={key:1,class:"w-7 h-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1.8"},oe={class:"flex gap-1.5"},re=["onClick"],se=["onClick"],ae={class:"flex items-center gap-2 mb-1"},ne={class:"font-black text-gray-900 tracking-tight text-lg truncate"},le={class:"text-[9px] font-black uppercase tracking-widest text-[#ff2b2b] bg-[#fff3f3] px-2.5 py-1 rounded-lg"},ie={class:"grid grid-cols-2 gap-3"},de={class:"px-4 py-3 bg-[#fcfcfc] border border-[#f8f8f8] rounded-2xl"},fe={class:"text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1"},ce={class:"text-sm font-black text-gray-900 leading-none"},ue={class:"px-4 py-3 bg-[#fcfcfc] border border-[#f8f8f8] rounded-2xl"},ge={class:"text-[8px] font-black text-gray-400 uppercase tracking-widest mb-1"},pe={class:"text-sm font-black text-gray-900 leading-none"},be={class:"mt-6 pt-4 border-t border-[#f8f8f8] flex items-center justify-between"},xe=["onClick"],me={key:0,class:"text-[9px] font-black text-emerald-600 uppercase tracking-widest flex items-center gap-1"},ve=["dir"],he={class:"bg-white w-full max-w-xl rounded-[28px] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-500"},_e={class:"p-8 border-b border-[#f1f1f1] flex items-center justify-between"},we={class:"text-xl font-black text-[#1e1e1e] tracking-tighter"},ye={class:"space-y-2"},ke={class:"text-[10px] font-black uppercase tracking-widest text-gray-400 px-1"},Ce={class:"grid grid-cols-2 gap-6"},je={class:"space-y-2"},Me={class:"text-[10px] font-black uppercase tracking-widest text-gray-400 px-1"},Se={value:null},Ve=["value","disabled"],He={class:"space-y-2"},Ne={class:"text-[10px] font-black uppercase tracking-widest text-gray-400 px-1"},Ue={class:"space-y-2"},Be={class:"text-[10px] font-black uppercase tracking-widest text-gray-400 px-1"},$e={class:"flex items-center gap-6 p-4 bg-[#fcfcfc] border border-[#f1f1f1] rounded-[20px]"},ze={class:"w-16 h-16 bg-white border border-[#f1f1f1] rounded-2xl flex items-center justify-center relative overflow-hidden group shadow-sm"},Ae={class:"flex-1 overflow-hidden"},Le={class:"text-xs font-bold text-[#1e1e1e] truncate"},Ee={class:"grid grid-cols-2 gap-4"},Ie={class:"text-[10px] font-black text-gray-900 uppercase tracking-widest"},Oe={class:"text-[10px] font-black text-gray-900 uppercase tracking-widest"},Pe={class:"space-y-4 pt-4 border-t border-gray-100"},Fe={class:"space-y-2"},Te=["disabled"],Ge={__name:"Categories",props:{categories:Array,parentCategories:Array},setup(h){const _=h,g=v(!1),p=v(null),b=v(""),H=P(()=>{if(!b.value)return _.categories;const n=b.value.toLowerCase();return _.categories.filter(o=>o.name.toLowerCase().includes(n)||o.parent&&o.parent.name.toLowerCase().includes(n))}),s=L({name:"",image_file:null,show_on_homepage:!1,parent_id:null,sort_order:0,is_active:!0,slug:"",meta_title:"",meta_description:"",meta_keywords:""}),x=(n=null)=>{p.value=n,n?(s.name=n.name,s.show_on_homepage=!!n.show_on_homepage,s.parent_id=n.parent_id,s.sort_order=n.sort_order||0,s.is_active=!!n.is_active,s.slug=n.slug||"",s.meta_title=n.meta_title||"",s.meta_description=n.meta_description||"",s.meta_keywords=n.meta_keywords||""):s.reset(),g.value=!0},N=()=>{p.value?s.post(route("admin.categories.update",p.value.id),{onSuccess:()=>{g.value=!1,s.reset()}}):s.post(route("admin.categories.store"),{onSuccess:()=>{g.value=!1,s.reset()}})},U=n=>{confirm(a.language==="ar"?"هل أنت متأكد من حذف هذا التصنيف؟":"Are you sure you want to delete this category?")&&V.delete(route("admin.categories.destroy",n))},B=n=>{V.post(route("admin.categories.update",n.id),{...n,_method:"PUT",is_active:!n.is_active},{preserveScroll:!0})},$=n=>{s.image_file=n.target.files[0]},z=n=>new Intl.NumberFormat(a.language==="ar"?"ar-EG":"en-US").format(n||0),A=n=>{const o=["#ff2b2b","#1e90ff","#00a65a","#f39c12","#9b59b6"],r=n.length%o.length;return o[r]};return(n,o)=>(d(),i(m,null,[y(t(E),{title:t(a).language==="ar"?"إدارة التصنيفات":"Categories Management"},null,8,["title"]),y(F,null,{header:k(()=>[j(l(t(a).language==="ar"?"تصنيفات المنتجات":"Product Categories"),1)]),default:k(()=>[e("div",{class:"space-y-6 font-inter bg-white -m-8 p-8 min-h-screen",dir:t(a).language==="ar"?"rtl":"ltr"},[e("div",D,[e("div",null,[e("h3",R,l(t(a).language==="ar"?"هيكل التصنيفات":"Categories Hierarchy"),1),e("p",q,l(t(a).language==="ar"?"تنظيم المنتجات في مجموعات ذكية":"Organize products into logical groups"),1)]),e("div",G,[e("div",Q,[(d(),i("svg",{class:f(["absolute w-4 h-4 text-gray-400 top-1/2 -translate-y-1/2",t(a).language==="ar"?"right-4":"left-4"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...o[14]||(o[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)])],2)),c(e("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>b.value=r),type:"text",placeholder:t(a).language==="ar"?"ابحث عن تصنيف...":"Search categories...",class:f(["w-full bg-[#fcfcfc] border border-[#f1f1f1] rounded-[14px] py-3 text-sm font-medium transition-all focus:ring-4 focus:ring-[#ff2b2b]/5 focus:border-[#ff2b2b]",t(a).language==="ar"?"pr-10":"pl-10"])},null,10,J),[[u,b.value]])]),e("button",{onClick:o[1]||(o[1]=r=>x()),class:"w-full md:w-auto bg-gradient-to-r from-[#ff2b2b] to-[#ff4d4d] text-white px-8 py-3.5 rounded-[12px] font-black text-xs uppercase tracking-[0.1em] shadow-[0_10px_25px_rgba(255,43,43,0.25)] hover:scale-[1.02] active:scale-95 transition-all"}," + "+l(t(a).language==="ar"?"تصنيف جديد":"New Category"),1)])]),e("div",K,[e("button",{onClick:o[2]||(o[2]=r=>x()),class:"group bg-[#fcfcfc] border-2 border-dashed border-[#f1f1f1] rounded-[24px] flex flex-col items-center justify-center p-8 hover:border-[#ff2b2b] hover:bg-[#fff3f3] transition-all min-h-[320px]"},[o[15]||(o[15]=e("div",{class:"w-16 h-16 bg-white border border-[#f1f1f1] rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-sm group-hover:shadow-[0_10px_20px_rgba(255,43,43,0.1)]"},[e("svg",{class:"w-8 h-8 text-gray-300 group-hover:text-[#ff2b2b] transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})])],-1)),e("span",W,l(t(a).language==="ar"?"إضافة تصنيف":"Add Category"),1)]),(d(!0),i(m,null,C(H.value,r=>(d(),i("div",{key:r.id,class:f(["group relative bg-white p-6 rounded-[24px] border border-[#f1f1f1] shadow-[0_8px_20px_rgba(0,0,0,0.03)] hover:shadow-[0_20px_40px_rgba(255,43,43,0.12)] hover:-translate-y-1.5 transition-all duration-300 overflow-hidden flex flex-col justify-between",{"opacity-60":!r.is_active}])},[e("div",X,[e("div",Y,[e("div",Z,[r.image?(d(),i("img",{key:0,src:r.image,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"},null,8,ee)):(d(),i("svg",te,[...o[16]||(o[16]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"},null,-1)])]))]),e("div",oe,[e("button",{onClick:w=>x(r),class:"p-2 text-gray-400 hover:text-[#ff2b2b] hover:bg-[#fff3f3] rounded-lg transition-all"},[...o[17]||(o[17]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,re),e("button",{onClick:w=>U(r.id),class:"p-2 text-gray-400 hover:text-[#ff2b2b] hover:bg-[#fff3f3] rounded-lg transition-all"},[...o[18]||(o[18]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,se)])]),e("div",null,[e("div",ae,[e("div",{class:"w-1.5 h-4 rounded-full",style:I({backgroundColor:A(r.name)})},null,4),e("h4",ne,l(r.name),1)]),e("span",le,l(r.parent?r.parent.name:t(a).language==="ar"?"تصنيف رئيسي":"Root Category"),1)]),e("div",ie,[e("div",de,[e("p",fe,l(t(a).language==="ar"?"المنتجات":"Products"),1),e("p",ce,l(z(r.products_count||0)),1)]),e("div",ue,[e("p",ge,l(t(a).language==="ar"?"الترتيب":"Sorting"),1),e("p",pe,"#"+l(r.sort_order),1)])])]),e("div",be,[e("div",{class:"flex items-center gap-2 cursor-pointer group/switch",onClick:w=>B(r)},[e("div",{class:f(["w-9 h-5 rounded-full p-1 transition-all duration-300 relative",r.is_active?"bg-[#ff2b2b]":"bg-gray-200"])},[e("div",{class:f(["w-3 h-3 bg-white rounded-full shadow-sm transition-all duration-300",r.is_active?t(a).language==="ar"?"-translate-x-4":"translate-x-4":"translate-x-0"])},null,2)],2),e("span",{class:f(["text-[10px] font-bold text-gray-500 uppercase tracking-widest transition-colors",{"text-[#ff2b2b]":r.is_active}])},l(r.is_active?t(a).language==="ar"?"نشط":"Active":t(a).language==="ar"?"مخفي":"Hidden"),3)],8,xe),r.show_on_homepage?(d(),i("div",me,[o[19]||(o[19]=e("div",{class:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"},null,-1)),j(" "+l(t(a).language==="ar"?"يظهر بالرئيسية":"On Homepage"),1)])):M("",!0)])],2))),128))])],8,T),g.value?(d(),i("div",{key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-gray-900/40 backdrop-blur-sm animate-in fade-in duration-300",dir:t(a).language==="ar"?"rtl":"ltr",onClick:o[13]||(o[13]=S(r=>g.value=!1,["self"]))},[e("div",he,[e("div",_e,[e("div",null,[e("h3",we,l(p.value?t(a).language==="ar"?"تعديل التصنيف":"Edit Category":t(a).language==="ar"?"إضافة تصنيف جديد":"New Category"),1),o[20]||(o[20]=e("p",{class:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-1"},"Setup category metadata and hierarchy",-1))]),e("button",{onClick:o[3]||(o[3]=r=>g.value=!1),class:"p-2 text-gray-400 hover:text-[#ff2b2b] transition-colors"},[...o[21]||(o[21]=[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"3"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:S(N,["prevent"]),class:"p-8 space-y-6"},[e("div",ye,[e("label",ke,l(t(a).language==="ar"?"اسم القسم":"Category Name"),1),c(e("input",{"onUpdate:modelValue":o[4]||(o[4]=r=>t(s).name=r),type:"text",placeholder:"e.g. Smartphones, Electronics",class:"w-full bg-[#fcfcfc] border border-[#f1f1f1] rounded-[16px] py-4 px-6 text-sm font-bold text-gray-900 focus:ring-4 focus:ring-[#ff2b2b]/5 focus:border-[#ff2b2b] outline-none",required:""},null,512),[[u,t(s).name]])]),e("div",Ce,[e("div",je,[e("label",Me,l(t(a).language==="ar"?"القسم الأب":"Parent"),1),c(e("select",{"onUpdate:modelValue":o[5]||(o[5]=r=>t(s).parent_id=r),class:"w-full bg-[#fcfcfc] border border-[#f1f1f1] rounded-[16px] py-4 px-6 text-sm font-bold text-gray-900 focus:ring-4 focus:ring-[#ff2b2b]/5 focus:border-[#ff2b2b] outline-none appearance-none"},[e("option",Se,l(t(a).language==="ar"?"--- أساسي ---":"None (Root)"),1),(d(!0),i(m,null,C(h.parentCategories,r=>(d(),i("option",{key:r.id,value:r.id,disabled:r.id===p.value?.id},l(r.name),9,Ve))),128))],512),[[O,t(s).parent_id]])]),e("div",He,[e("label",Ne,l(t(a).language==="ar"?"الترتيب":"Sort Order"),1),c(e("input",{"onUpdate:modelValue":o[6]||(o[6]=r=>t(s).sort_order=r),type:"number",class:"w-full bg-[#fcfcfc] border border-[#f1f1f1] rounded-[16px] py-4 px-6 text-sm font-bold text-gray-900 focus:ring-4 focus:ring-[#ff2b2b]/5 focus:border-[#ff2b2b] outline-none"},null,512),[[u,t(s).sort_order]])])]),e("div",Ue,[e("label",Be,l(t(a).language==="ar"?"الصورة أو الأيقونة":"Category Icon/Image"),1),e("div",$e,[e("div",ze,[e("input",{type:"file",onChange:$,class:"absolute inset-0 opacity-0 cursor-pointer z-10",accept:"image/*"},null,32),o[22]||(o[22]=e("svg",{class:"w-7 h-7 text-gray-300 group-hover:text-[#ff2b2b] transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1))]),e("div",Ae,[e("p",Le,l(t(s).image_file?t(s).image_file.name:t(a).language==="ar"?"اختر صورة...":"Click to upload..."),1),o[23]||(o[23]=e("p",{class:"text-[9px] font-bold text-gray-400 uppercase tracking-widest mt-1"},"Recommended 512x512 PNG",-1))])])]),e("div",Ee,[e("div",{class:"flex items-center justify-between bg-[#fcfcfc] p-4 rounded-2xl cursor-pointer hover:bg-white border border-[#f1f1f1] transition-all",onClick:o[7]||(o[7]=r=>t(s).show_on_homepage=!t(s).show_on_homepage)},[e("span",Ie,l(t(a).language==="ar"?"الرئيسية":"On Home"),1),e("div",{class:f(["w-9 h-5 rounded-full p-1 transition-all",t(s).show_on_homepage?"bg-emerald-500":"bg-gray-200"])},[e("div",{class:f(["w-3 h-3 bg-white rounded-full shadow-sm transition-all",t(s).show_on_homepage?t(a).language==="ar"?"-translate-x-4":"translate-x-4":"translate-x-0"])},null,2)],2)]),e("div",{class:"flex items-center justify-between bg-[#fcfcfc] p-4 rounded-2xl cursor-pointer hover:bg-white border border-[#f1f1f1] transition-all",onClick:o[8]||(o[8]=r=>t(s).is_active=!t(s).is_active)},[e("span",Oe,l(t(a).language==="ar"?"مفعل":"Is Active"),1),e("div",{class:f(["w-9 h-5 rounded-full p-1 transition-all",t(s).is_active?"bg-[#ff2b2b]":"bg-gray-200"])},[e("div",{class:f(["w-3 h-3 bg-white rounded-full shadow-sm transition-all",t(s).is_active?t(a).language==="ar"?"-translate-x-4":"translate-x-4":"translate-x-0"])},null,2)],2)])]),e("div",Pe,[e("div",Fe,[o[24]||(o[24]=e("label",{class:"text-[10px] font-black uppercase tracking-widest text-[#ff2b2b] px-1"},"SEO Matrix (Slug & Meta)",-1)),c(e("input",{"onUpdate:modelValue":o[9]||(o[9]=r=>t(s).slug=r),type:"text",placeholder:"category-slug",class:"w-full bg-[#fcfcfc] border border-[#f1f1f1] rounded-[16px] py-4 px-6 text-sm font-bold text-gray-900 focus:ring-4 focus:ring-[#ff2b2b]/5 focus:border-[#ff2b2b] outline-none mb-2"},null,512),[[u,t(s).slug]]),c(e("input",{"onUpdate:modelValue":o[10]||(o[10]=r=>t(s).meta_title=r),type:"text",placeholder:"Meta Title...",class:"w-full bg-[#fcfcfc] border border-[#f1f1f1] rounded-[16px] py-4 px-6 text-sm font-bold text-gray-900 focus:ring-4 focus:ring-[#ff2b2b]/5 focus:border-[#ff2b2b] outline-none mb-2"},null,512),[[u,t(s).meta_title]]),c(e("textarea",{"onUpdate:modelValue":o[11]||(o[11]=r=>t(s).meta_description=r),rows:"2",placeholder:"Meta Description...",class:"w-full bg-[#fcfcfc] border border-[#f1f1f1] rounded-[16px] py-4 px-6 text-sm font-bold text-gray-900 focus:ring-4 focus:ring-[#ff2b2b]/5 focus:border-[#ff2b2b] outline-none mb-2"},null,512),[[u,t(s).meta_description]]),c(e("input",{"onUpdate:modelValue":o[12]||(o[12]=r=>t(s).meta_keywords=r),type:"text",placeholder:"keywords, comma, separated",class:"w-full bg-[#fcfcfc] border border-[#f1f1f1] rounded-[16px] py-4 px-6 text-sm font-bold text-gray-900 focus:ring-4 focus:ring-[#ff2b2b]/5 focus:border-[#ff2b2b] outline-none"},null,512),[[u,t(s).meta_keywords]])])]),e("button",{type:"submit",class:"w-full py-5 bg-gradient-to-r from-[#ff2b2b] to-[#ff4d4d] text-white rounded-[16px] font-black uppercase tracking-[0.2em] text-xs shadow-[0_15px_30px_rgba(255,43,43,0.3)] hover:scale-[1.01] hover:-translate-y-1 transition-all active:scale-95 disabled:opacity-50",disabled:t(s).processing},l(t(s).processing?"...":p.value?t(a).language==="ar"?"حفظ التغييرات":"Save Changes":t(a).language==="ar"?"إضافة القسم":"Create Category"),9,Te)],32)])],8,ve)):M("",!0)]),_:1})],64))}};export{Ge as default};
