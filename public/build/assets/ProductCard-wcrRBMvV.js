import{o as a,c as s,I as h,w as b,b as e,t as l,j as d,u,q as m,F as v,e as k,n as p,k as g,f as j,m as w,s as S}from"./app-Ci0ddvc-.js";import{c as f}from"./CartStore-L4PrAP_b.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"group bg-white rounded-[28px] overflow-hidden shadow-sm hover:shadow-[0_40px_80px_rgba(0,0,0,0.06)] transition-all duration-700 flex flex-col h-full border border-[#ececf2] hover:-translate-y-2 md:max-w-[260px] mx-auto w-full relative"},z=["src","alt"],F={key:0,class:"absolute top-5 left-5 bg-[#ff2e63] text-white text-[10px] font-black px-3 py-1.5 rounded-xl shadow-lg border border-white/20 uppercase tracking-widest z-10 animate-fade-in"},M={key:1,class:"absolute inset-0 bg-white/60 backdrop-blur-[6px] flex items-center justify-center z-20"},O={key:1,class:"relative aspect-square overflow-hidden block bg-[#fcfcfc] p-6"},P=["src","alt"],I={class:"p-6 flex-1 flex flex-col relative bg-white"},L={class:"flex items-center justify-between mb-2"},V={key:0,class:"text-[9px] font-black text-gray-400 uppercase tracking-[0.2em]"},E={key:1,class:"flex items-center gap-1.5"},H={class:"text-[15px] font-bold text-[#1a1a1a] leading-tight line-clamp-2 transition-colors group-hover:text-[#ff2e63]"},N={key:1,class:"block mb-4 flex-1"},T={class:"text-[15px] font-bold text-[#1a1a1a] leading-tight line-clamp-2"},G={class:"mb-5 flex items-end gap-2"},A={class:"text-xl font-black text-[#ff2e63] tracking-tighter"},D={class:"text-[11px] text-gray-400 line-through mb-1 font-bold"},J={key:1,class:"text-xl font-black text-[#1a1a1a] tracking-tighter"},K={class:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-[#f8f8f8]"},Q={class:"flex-1 text-center text-xs font-black text-[#1a1a1a]"},R=["disabled"],U={key:0,class:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"},W={key:2,class:"absolute inset-0 bg-white/10 opacity-0 group-hover/btn:opacity-100 transition-opacity"},X={__name:"ProductCard",props:{product:Object},setup(t){const n=t,c=w(1),i=w(!1),r=j(()=>(n.product.stock_quantity??0)<=0),y=()=>{c.value<(n.product.stock_quantity||99)&&c.value++},_=()=>{c.value>1&&c.value--},C=async()=>{r.value||i.value||(i.value=!0,setTimeout(()=>{f.addItem({id:n.product.id,name:n.product.name,price:n.product.effective_price,image_url:n.product.image_url,category:n.product.category?.name,quantity:c.value}),i.value=!1,S.notify(f.language==="ar"?"تمت الإضافة للسلة بنجاح":"Added to cart successfully")},400))};return(x,o)=>(a(),s("div",B,[t.product.slug?(a(),h(u(m),{key:0,href:x.route("product.show",t.product.slug),class:"relative aspect-square overflow-hidden block bg-[#fcfcfc] p-6"},{default:b(()=>[e("img",{src:t.product.image_url,alt:t.product.name,loading:"lazy",class:"w-full h-full object-contain transition-transform duration-1000 ease-out group-hover:scale-[1.05]"},null,8,z),t.product.is_on_sale?(a(),s("div",F," -"+l(t.product.discount_percentage)+"% ",1)):d("",!0),r.value?(a(),s("div",M,[...o[0]||(o[0]=[e("span",{class:"text-[10px] font-black uppercase text-gray-500 tracking-[0.2em] bg-white/90 px-5 py-2.5 rounded-2xl border border-gray-100 shadow-xl"},"Sold Out",-1)])])):d("",!0)]),_:1},8,["href"])):(a(),s("div",O,[e("img",{src:t.product.image_url,alt:t.product.name,loading:"lazy",class:"w-full h-full object-contain transition-transform duration-1000 ease-out group-hover:scale-[1.05]"},null,8,P)])),e("div",I,[e("div",L,[t.product.category?(a(),s("span",V,l(t.product.category.name),1)):d("",!0),r.value?d("",!0):(a(),s("div",E,[...o[1]||(o[1]=[e("div",{class:"w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]"},null,-1),e("span",{class:"text-[9px] font-bold text-emerald-600 uppercase tracking-wider"},"In Stock",-1)])]))]),t.product.slug?(a(),h(u(m),{key:0,href:x.route("product.show",t.product.slug),class:"block mb-4 flex-1"},{default:b(()=>[e("h3",H,l(u(f).language==="ar"&&t.product.name_ar||t.product.name),1)]),_:1},8,["href"])):(a(),s("div",N,[e("h3",T,l(u(f).language==="ar"&&t.product.name_ar||t.product.name),1)])),e("div",G,[t.product.is_on_sale?(a(),s(v,{key:0},[e("span",A,[k(l(parseFloat(t.product.effective_price).toLocaleString())+" ",1),o[2]||(o[2]=e("small",{class:"text-[10px] uppercase ml-0.5"},"EGP",-1))]),e("span",D,l(parseFloat(t.product.price).toLocaleString()),1)],64)):(a(),s("span",J,[k(l(parseFloat(t.product.price).toLocaleString())+" ",1),o[3]||(o[3]=e("small",{class:"text-[10px] font-black text-gray-400 uppercase ml-0.5 tracking-tighter"},"EGP",-1))]))]),e("div",K,[e("div",{class:p(["flex items-center justify-between bg-gray-50/80 border border-gray-100 rounded-xl p-1 h-[42px] min-w-[100px]",{"opacity-40 pointer-events-none":r.value}])},[e("button",{onClick:g(_,["stop"]),class:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-black hover:bg-white rounded-lg transition-all active:scale-90 font-bold"},[...o[4]||(o[4]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"3"},[e("path",{d:"M20 12H4"})],-1)])]),e("span",Q,l(c.value),1),e("button",{onClick:g(y,["stop"]),class:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-black hover:bg-white rounded-lg transition-all active:scale-90 font-bold"},[...o[5]||(o[5]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"3"},[e("path",{d:"M12 4v16m8-8H4"})],-1)])])],2),e("button",{onClick:g(C,["stop"]),disabled:r.value||i.value,class:p(["flex-1 h-[42px] flex items-center justify-center gap-2 rounded-xl text-[10px] font-black uppercase tracking-[0.1em] transition-all duration-300 shadow-md group/btn overflow-hidden relative",[r.value?"bg-gray-100 text-gray-400 cursor-not-allowed shadow-none":"bg-[#ff2e63] text-white hover:bg-[#e60045] hover:scale-[1.03] active:scale-95 shadow-[0_4px_12px_rgba(255,46,99,0.2)]"]])},[i.value?(a(),s("div",U)):(a(),s(v,{key:1},[r.value?d("",!0):(a(),s("svg",{key:0,class:p(["w-4 h-4 transition-transform group-hover/btn:scale-110",{"animate-bounce":i.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},[...o[6]||(o[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"},null,-1)])],2)),e("span",null,l(r.value?"Sold Out":"Cart"),1)],64)),r.value?d("",!0):(a(),s("div",W))],10,R)])])]))}},ee=q(X,[["__scopeId","data-v-064ecc72"]]);export{ee as P};
