import{g as le,L as v,x as H,C as re,c as l,a as Q,u as n,h as ne,w as R,b as e,i as m,v as k,o as r,F as y,r as w,t as a,n as N,j as f,l as ie,k as F,e as ce,m as c,s as C,f as W}from"./app-Ci0ddvc-.js";import{_ as de}from"./AdminLayout-C6Ydksq4.js";import{c as i}from"./CartStore-L4PrAP_b.js";import{d as fe}from"./debounce-w2a4_VVY.js";import{_ as ue}from"./_plugin-vue_export-helper-DlAUqK2U.js";const pe=["dir"],xe={class:"flex-1 flex flex-col overflow-hidden"},be={class:"p-6 pb-0"},ve={class:"relative group"},ge=["placeholder"],he={key:0,class:"absolute top-full left-0 w-full bg-white shadow-2xl rounded-[24px] mt-2 z-[100] max-h-96 overflow-y-auto border border-[#ececf2] p-2 space-y-1"},me=["onClick"],ye={class:"flex items-center gap-4"},_e={class:"w-12 h-12 bg-[#f8f9fb] rounded-[12px] flex items-center justify-center overflow-hidden border border-[#ececf2]"},ke=["src"],we={key:1,class:"text-sm font-black text-gray-300"},Ce={class:"font-bold text-[#1f1f1f] text-sm tracking-tight"},je={class:"text-[9px] font-black text-gray-400 uppercase tracking-widest mt-0.5"},Se={class:"font-black text-[#ff2e63] text-base tracking-tighter"},Me={class:"flex-1 overflow-y-auto p-6 custom-scrollbar"},qe={class:"grid grid-cols-[repeat(auto-fill,minmax(220px,1fr))] gap-5 align-content-start"},$e=["onClick"],Pe={class:"w-full h-[140px] bg-[#f8f9fb] rounded-[16px] mb-3 overflow-hidden relative border border-[#ececf2] p-3"},Ve=["src"],ze={key:1,class:"w-full h-full flex items-center justify-center text-3xl font-black text-gray-200"},Be={class:"bg-gray-900/90 backdrop-blur-sm text-white text-[9px] font-black px-2 py-0.5 rounded-lg tracking-wider uppercase"},Ie={key:0,class:"bg-[#ff2e63] text-white text-[8px] font-black px-2 py-0.5 rounded-lg shadow-lg uppercase tracking-widest text-center animate-pulse"},Ne={class:"flex-1 flex flex-col"},Fe={class:"text-xs font-bold text-[#1a1a1a] leading-tight line-clamp-2 mb-3 h-[2.5em] group-hover:text-[#ff2e63] transition-colors"},Le={class:"flex flex-col gap-3"},Ue={class:"flex items-center justify-between"},Ae={class:"text-[15px] font-black text-[#1f1f1f] tracking-tighter"},Ee={key:0,class:"text-[10px] text-gray-400 line-through font-bold"},Te={class:"w-full h-[40px] bg-[#ff2e63] text-white rounded-xl text-[11px] font-black uppercase tracking-wider hover:bg-[#e60045] hover:scale-[1.03] transition-all active:scale-95 shadow-sm"},De={class:"w-[380px] h-full flex flex-col bg-white border-x border-[#ececf2] overflow-hidden relative shrink-0"},Oe={class:"flex-none p-6 border-b border-[#f8f9fb]"},He={class:"flex items-center justify-between"},Qe={class:"text-lg font-black text-[#1f1f1f] tracking-tighter uppercase"},Re={class:"text-[9px] font-black text-gray-400 uppercase tracking-[0.2em] mt-1"},We={class:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar"},Ge={key:0,class:"h-full flex flex-col items-center justify-center text-gray-200 gap-4 opacity-40"},Ke={class:"text-[9px] font-black uppercase tracking-[0.2em]"},Je={class:"w-12 h-12 bg-white rounded-xl overflow-hidden border border-[#ececf2] shrink-0"},Xe=["src"],Ye={key:1,class:"w-full h-full flex items-center justify-center font-black text-gray-200 text-xs"},Ze={class:"flex-1 min-w-0"},et={class:"text-xs font-bold text-[#1f1f1f] leading-tight truncate"},tt={class:"text-[10px] font-black text-[#ff2e63] mt-0.5"},st={class:"flex items-center bg-white rounded-lg p-0.5 border border-[#ececf2]"},ot=["onClick"],at={class:"text-[10px] font-black w-6 text-center text-[#1f1f1f]"},lt=["onClick"],rt=["onClick"],nt={class:"flex-none p-6 bg-white border-t border-[#f8f9fb] space-y-4 shadow-[0_-10px_30px_rgba(0,0,0,0.02)]"},it={class:"space-y-2 relative"},ct={class:"flex items-center justify-between text-[9px] font-black uppercase tracking-widest text-gray-400 px-1"},dt={class:"flex gap-3"},ft={class:"relative"},ut=["placeholder"],pt={key:0,class:"absolute bottom-full mb-2 left-0 w-full bg-white shadow-2xl rounded-2xl z-[110] border border-[#ececf2] max-h-48 overflow-y-auto p-2"},xt=["onClick"],bt={class:"text-[11px] font-bold text-[#1f1f1f]"},vt={class:"text-[9px] font-black text-gray-400 mt-0.5 uppercase tracking-widest"},gt={key:0,class:"bg-gray-900 text-white rounded-xl p-3 flex items-center justify-between animate-in slide-in-from-bottom-2"},ht={class:"flex items-center gap-3"},mt={class:"w-8 h-8 bg-white/10 rounded-lg flex items-center justify-center font-black text-xs"},yt={class:"text-[10px] font-bold truncate max-w-[140px]"},_t={class:"text-[8px] text-red-400 font-bold"},kt={class:"grid grid-cols-2 gap-3"},wt=["value"],Ct={class:"pt-4 border-t border-[#f8f9fb] space-y-3"},jt={class:"flex items-center justify-between text-[11px] font-black uppercase text-gray-400 tracking-widest"},St={class:"text-2xl text-[#ff2e63] tracking-tighter"},Mt=["disabled"],qt={key:0},$t={key:1,class:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"},Pt={id:"receipt-modal",class:"bg-white w-full max-w-lg rounded-[48px] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-500 flex flex-col items-center p-12 text-center border border-[#ececf2]"},Vt={class:"text-3xl font-black text-[#1f1f1f] tracking-tighter mb-2"},zt={class:"text-[11px] font-black uppercase tracking-widest text-[#ff2e63] mb-10"},Bt={id:"receipt-area",class:"w-full bg-[#f8f9fb] rounded-[32px] p-8 space-y-4 mb-10 border border-[#ececf2] text-left"},It={class:"flex justify-between items-center text-[10px] font-black text-gray-400 uppercase tracking-widest"},Nt={class:"flex justify-between items-center text-2xl font-black text-[#1f1f1f] tracking-tighter"},Ft={class:"flex flex-col w-full gap-4"},Lt={class:"bg-white w-full max-w-lg rounded-[40px] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-500 border border-[#ececf2]"},Ut={class:"p-10"},At={class:"flex items-center justify-between mb-10"},Et={class:"text-3xl font-black text-[#1f1f1f] tracking-tighter"},Tt={class:"space-y-2"},Dt={class:"space-y-2"},Ot={class:"space-y-2"},Ht={class:"bg-white w-full max-w-3xl rounded-[40px] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-500 h-[80vh] flex flex-col border border-[#ececf2]"},Qt={class:"p-12 border-b border-[#f8f9fb] flex items-center justify-between"},Rt={class:"text-3xl font-black text-[#1f1f1f] tracking-tighter uppercase"},Wt={class:"flex-1 overflow-y-auto p-12 space-y-6 custom-scrollbar bg-[#f8f9fb]/30"},Gt={key:0,class:"text-center py-32 text-gray-300 font-black uppercase text-[10px] tracking-widest"},Kt={class:"text-sm font-bold text-[#1f1f1f]"},Jt={class:"text-[10px] font-black text-gray-400 mt-2 uppercase"},Xt={class:"text-right flex flex-col items-end gap-3"},Yt={class:"text-lg font-black text-[#1f1f1f] tracking-tighter"},Zt={__name:"Index",props:{products:Array,initial_customers:Array},setup(G){const u=c(""),j=c([]),d=c([]),g=c(null),A=c(null),_=c(null),h=c(""),S=c([]),M=c(!1),P=c(!1),q=c(!1),p=c(null),V=c(null),L=c("cash"),$=c(0),E=c(0),z=c(!1),x=le({name:"",phone:"",notes:"",email:""}),K=W(()=>d.value.reduce((o,t)=>o+t.price*t.quantity,0)),T=W(()=>Math.max(0,K.value-$.value)),U=o=>{const t=d.value.find(s=>s.id===o.id);t?t.quantity<o.stock_quantity?t.quantity++:C.notify(i.language==="ar"?"عفواً، الكمية المطلوبة غير متوفرة في المخزن حالياً":"Insufficient stock","error"):d.value.push({id:o.id,name:o.name,price:o.effective_price||o.price,image_url:o.image_url,quantity:1,stock:o.stock_quantity}),u.value="",j.value=[]},J=o=>{d.value.splice(o,1)},D=(o,t)=>{const s=o.quantity+t;s>0&&s<=o.stock&&(o.quantity=s)},X=async()=>{if(u.value.length<1){j.value=[];return}try{const o=await v.get(route("admin.pos.search"),{params:{q:u.value}});j.value=o.data,o.data.length===1&&(o.data[0].sku===u.value||o.data[0].id.toString()===u.value)&&U(o.data[0])}catch(o){console.error(o)}},Y=fe(async()=>{if(h.value.length<2){S.value=[];return}try{const o=await v.get(route("admin.pos.customers.search"),{params:{q:h.value}});S.value=o.data}catch(o){console.error(o)}},300),B=async o=>{g.value=o.id,A.value=o,h.value=o.name,S.value=[];try{const t=await v.get(route("admin.pos.customers.stats",o.id));_.value=t.data}catch(t){console.error(t)}},Z=async()=>{try{const o=await v.post(route("admin.pos.customers.store"),{name:"Walk-in Customer",phone:"0000",notes:"System default walk-in"});B(o.data)}catch{const t=await v.get(route("admin.pos.customers.search"),{params:{q:"Walk-in"}});t.data.length>0&&B(t.data[0])}},ee=async()=>{if(g.value)try{const o=await v.get(route("admin.pos.customers.history",g.value));V.value=o.data,P.value=!0}catch(o){console.error(o)}},te=async()=>{try{const o=await v.post(route("admin.pos.customers.store"),x.data());C.notify(i.language==="ar"?"تم قيد بيانات العميل الجديد في النظام":"Customer profile created successfully"),B(o.data),M.value=!1,x.reset()}catch(o){C.notify(o.response?.data?.message||"Error adding customer","error")}},se=async()=>{if(!g.value){C.notify(i.language==="ar"?"يجب تحديد عميل أولاً لإكمال المعاملة":"Please select a customer first","error");return}if(d.value.length!==0){z.value=!0;try{const o=await v.post(route("admin.pos.invoice"),{items:d.value,customer_id:g.value,payment_method:L.value,amount_paid:E.value||T.value,discount:$.value});o.data.success&&(C.notify(i.language==="ar"?"تم إصدار الفاتورة بنجاح":"Invoice created successfully"),p.value=o.data,q.value=!0,d.value=[],g.value=null,A.value=null,_.value=null,h.value="",E.value=0,$.value=0)}catch(o){C.notify(o.response?.data?.message||"Error generating invoice","error")}finally{z.value=!1}}},oe=()=>{p.value&&p.value.order&&(window.open(route("admin.orders.invoice",p.value.order.id),"_blank"),q.value=!1)};H(u,X),H(h,Y),re(()=>{document.getElementById("pos-search")?.focus()});const b=o=>new Intl.NumberFormat(i.language==="ar"?"ar-EG":"en-US",{style:"currency",currency:"EGP",maximumFractionDigits:0}).format(o||0),ae=[{key:"cash",ar:"كاش",en:"Cash"},{key:"card",ar:"فيزا / POS",en:"Card"},{key:"transfer",ar:"تحويل / محفظة",en:"Transfer"}];return(o,t)=>(r(),l(y,null,[Q(n(ne),{title:n(i).language==="ar"?"نقطة البيع (POS)":"Point of Sale"},null,8,["title"]),Q(de,null,{header:R(()=>[ce(a(n(i).language==="ar"?"نقطة البيع":"Point of Sale"),1)]),default:R(()=>[e("div",{class:"flex h-[calc(100vh-96px)] bg-[#f8f9fb] -m-12 overflow-hidden",dir:n(i).language==="ar"?"rtl":"ltr"},[e("div",xe,[e("div",be,[e("div",ve,[t[15]||(t[15]=e("div",{class:"absolute inset-y-0 right-6 flex items-center pointer-events-none text-gray-400 group-focus-within:text-[#ff2e63] transition-colors"},[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"3"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>u.value=s),id:"pos-search",type:"text",class:"w-full bg-white border border-[#ececf2] rounded-[16px] py-4 pr-14 pl-6 text-lg font-bold shadow-sm focus:ring-4 focus:ring-[#ff2e63]/5 focus:border-[#ff2e63] placeholder:text-gray-400 transition-all",placeholder:n(i).language==="ar"?"ابحث بالاسم أو الباركود...":"Search for items...",autocomplete:"off"},null,8,ge),[[k,u.value]]),j.value.length>0?(r(),l("div",he,[(r(!0),l(y,null,w(j.value,s=>(r(),l("div",{key:s.id,onClick:I=>U(s),class:"p-3 hover:bg-[#f8f9fb] cursor-pointer flex items-center justify-between rounded-[16px] border border-transparent hover:border-[#ececf2] transition-all group"},[e("div",ye,[e("div",_e,[s.image_url?(r(),l("img",{key:0,src:s.image_url,class:"w-full h-full object-cover"},null,8,ke)):(r(),l("span",we,a(s.name.charAt(0)),1))]),e("div",{class:N(n(i).language==="ar"?"text-right":"text-left")},[e("p",Ce,a(s.name),1),e("p",je,"STOCK: "+a(s.stock_quantity),1)],2)]),e("p",Se,a(b(s.effective_price||s.price)),1)],8,me))),128))])):f("",!0)])]),e("div",Me,[e("div",qe,[(r(!0),l(y,null,w(G.products,s=>(r(),l("div",{key:s.id,onClick:I=>U(s),class:"bg-white p-3 rounded-[20px] border border-[#ececf2] shadow-sm hover:shadow-md transition-all cursor-pointer group flex flex-col relative overflow-hidden"},[e("div",Pe,[s.image_url?(r(),l("img",{key:0,src:s.image_url,class:"w-full h-full object-contain transition-transform duration-700 group-hover:scale-105 mx-auto"},null,8,Ve)):(r(),l("div",ze,a(s.name.charAt(0)),1)),e("div",{class:N(["absolute top-2 left-2 z-10 flex flex-col gap-1.5",n(i).language==="ar"?"left-auto right-2":"left-2"])},[e("span",Be,"Qty: "+a(s.stock_quantity),1),s.is_on_sale?(r(),l("span",Ie,"Sale")):f("",!0)],2)]),e("div",Ne,[e("h5",Fe,a(s.name),1),e("div",Le,[e("div",Ue,[e("span",Ae,a(b(s.effective_price||s.price)),1),s.is_on_sale?(r(),l("span",Ee,a(b(s.price)),1)):f("",!0)]),e("button",Te,a(n(i).language==="ar"?"إضافة للعملية":"Add to Order"),1)])])],8,$e))),128))])])]),e("div",De,[e("div",Oe,[e("div",He,[e("div",null,[e("h4",Qe,a(n(i).language==="ar"?"سلة المشتريات":"Current Order"),1),e("p",Re,a(d.value.length)+" items selected",1)]),d.value.length>0?(r(),l("button",{key:0,onClick:t[1]||(t[1]=s=>d.value=[]),class:"px-3 py-1 bg-red-50 text-[#ff2e63] text-[9px] font-black uppercase rounded-lg hover:bg-red-100 transition-colors"},"Reset")):f("",!0)])]),e("div",We,[d.value.length===0?(r(),l("div",Ge,[t[16]||(t[16]=e("div",{class:"w-16 h-16 bg-[#f8f9fb] rounded-[24px] flex items-center justify-center border-2 border-dashed border-[#ececf2]"},[e("svg",{class:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})])],-1)),e("p",Ke,a(n(i).language==="ar"?"السلة فارغة":"Waiting for items"),1)])):f("",!0),(r(!0),l(y,null,w(d.value,(s,I)=>(r(),l("div",{key:s.id,class:"flex items-center gap-3 bg-[#f8f9fb] p-3 rounded-[16px] border border-[#ececf2] relative group"},[e("div",Je,[s.image_url?(r(),l("img",{key:0,src:s.image_url,class:"w-full h-full object-cover"},null,8,Xe)):(r(),l("div",Ye,a(s.name.charAt(0)),1))]),e("div",Ze,[e("h6",et,a(s.name),1),e("p",tt,a(b(s.price)),1)]),e("div",st,[e("button",{onClick:O=>D(s,-1),class:"w-6 h-6 flex items-center justify-center text-gray-400 hover:text-[#ff2e63]"},"-",8,ot),e("span",at,a(s.quantity),1),e("button",{onClick:O=>D(s,1),class:"w-6 h-6 flex items-center justify-center text-gray-400 hover:text-[#ff2e63]"},"+",8,lt)]),e("button",{onClick:O=>J(I),class:"ml-1 text-gray-300 hover:text-red-500 transition-colors"},[...t[17]||(t[17]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,rt)]))),128))]),e("div",nt,[e("div",it,[e("div",ct,[t[18]||(t[18]=e("span",null,"Customer Profile",-1)),e("div",dt,[e("button",{onClick:Z,class:"text-[#ff2e63]"},"Walk-in"),e("button",{onClick:t[2]||(t[2]=s=>M.value=!0),class:"text-gray-900"},"+ New")])]),e("div",ft,[m(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>h.value=s),type:"text",class:"w-full bg-[#f8f9fb] border-[#ececf2] rounded-[12px] py-3 px-4 text-xs font-bold focus:ring-[#ff2e63]/20 focus:border-[#ff2e63] placeholder:text-gray-300 transition-all",placeholder:n(i).language==="ar"?"ابحث عن عميل...":"Search..."},null,8,ut),[[k,h.value]]),S.value.length>0?(r(),l("div",pt,[(r(!0),l(y,null,w(S.value,s=>(r(),l("div",{key:s.id,onClick:I=>B(s),class:"p-2.5 hover:bg-[#f8f9fb] cursor-pointer rounded-xl transition-all"},[e("p",bt,a(s.name),1),e("p",vt,a(s.phone),1)],8,xt))),128))])):f("",!0)]),_.value?(r(),l("div",gt,[e("div",ht,[e("div",mt,a(_.value.name.charAt(0)),1),e("div",null,[e("p",yt,a(_.value.name),1),e("p",_t,"Debt: "+a(b(_.value.debt)),1)])]),e("button",{onClick:ee,class:"p-2 hover:bg-white/10 rounded-lg transition-colors"},[...t[19]||(t[19]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{d:"M12 8v4l3 2"})],-1)])])])):f("",!0)]),e("div",kt,[m(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>L.value=s),class:"bg-[#f8f9fb] border-[#ececf2] rounded-[12px] py-3 px-3 text-[11px] font-bold focus:ring-[#ff2e63]/20 focus:border-[#ff2e63] outline-none transition-all shadow-sm"},[(r(),l(y,null,w(ae,s=>e("option",{key:s.key,value:s.key},a(n(i).language==="ar"?s.ar:s.en),9,wt)),64))],512),[[ie,L.value]]),m(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>$.value=s),type:"number",class:"bg-[#f8f9fb] border-[#ececf2] rounded-[12px] py-3 px-3 text-[11px] font-bold focus:ring-[#ff2e63]/20 focus:border-[#ff2e63] shadow-sm",placeholder:"Discount (EGP)"},null,512),[[k,$.value,void 0,{number:!0}]])]),e("div",Ct,[e("div",jt,[t[20]||(t[20]=e("span",null,"Final Total",-1)),e("span",St,a(b(T.value)),1)]),e("button",{onClick:se,disabled:d.value.length===0||z.value||!g.value,class:"w-full py-4 bg-[#ff2e63] text-white rounded-[16px] font-black uppercase tracking-[0.2em] text-[11px] shadow-xl shadow-[#ff2e63]/20 hover:bg-[#e60045] transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-3"},[z.value?(r(),l("div",$t)):(r(),l("span",qt,a(n(i).language==="ar"?"تأكيد العملية":"Confirm Order"),1))],8,Mt)])])])],8,pe),q.value?(r(),l("div",{key:0,class:"fixed inset-0 z-[200] flex items-center justify-center p-8 bg-[#1f1f1f]/80 backdrop-blur-sm",onClick:t[7]||(t[7]=F(s=>q.value=!1,["self"]))},[e("div",Pt,[t[23]||(t[23]=e("div",{class:"w-24 h-24 bg-emerald-50 text-emerald-500 rounded-full flex items-center justify-center mb-8 border border-emerald-100/50 shadow-inner"},[e("svg",{class:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"})])],-1)),e("h3",Vt,a(n(i).language==="ar"?"تمت العملية بنجاح":"Sale Completed"),1),e("p",zt,a(p.value?.invoice?.invoice_number),1),e("div",Bt,[e("div",It,[e("span",null,"Paid via "+a(p.value?.order?.payment_method?.toUpperCase()),1),e("span",null,a(new Date(p.value?.order?.created_at).toLocaleDateString()),1)]),e("div",Nt,[t[21]||(t[21]=e("span",null,"Total Paid",-1)),e("span",null,a(b(p.value?.invoice?.amount_paid)),1)]),t[22]||(t[22]=e("div",{class:"border-t border-dashed border-[#ececf2] pt-4 mt-4"},[e("p",{class:"text-[10px] font-black text-gray-400 uppercase text-center tracking-[0.2em]"},"Thank you for your business")],-1))]),e("div",Ft,[e("button",{onClick:oe,class:"w-full py-5 bg-[#1f1f1f] text-white rounded-[24px] font-black uppercase tracking-widest text-[11px] hover:bg-black transition-all active:scale-95 shadow-xl"}," Print Invoice "),e("button",{onClick:t[6]||(t[6]=s=>q.value=!1),class:"w-full py-5 bg-white text-[#1f1f1f] border border-[#ececf2] rounded-[24px] font-black uppercase tracking-widest text-[11px] hover:bg-gray-50 transition-all"}," Close ")])])])):f("",!0),M.value?(r(),l("div",{key:1,class:"fixed inset-0 z-[120] flex items-center justify-center p-8 bg-[#1f1f1f]/40 backdrop-blur-md",onClick:t[12]||(t[12]=F(s=>M.value=!1,["self"]))},[e("div",Lt,[e("div",Ut,[e("div",At,[e("h3",Et,a(n(i).language==="ar"?"عميل جديد":"New Customer"),1),e("button",{onClick:t[8]||(t[8]=s=>M.value=!1),class:"p-2 text-gray-400 hover:text-[#ff2e63] transition-colors"},[...t[24]||(t[24]=[e("svg",{class:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"3"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:F(te,["prevent"]),class:"space-y-6"},[e("div",Tt,[t[25]||(t[25]=e("label",{class:"text-[11px] font-black uppercase text-gray-400 px-2"},"Full Name",-1)),m(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>n(x).name=s),type:"text",class:"w-full bg-[#f8f9fb] border-[#ececf2] rounded-[20px] py-5 px-8 text-sm font-bold focus:ring-[#ff2e63]/20 focus:border-[#ff2e63] text-[#1f1f1f]",required:""},null,512),[[k,n(x).name]])]),e("div",Dt,[t[26]||(t[26]=e("label",{class:"text-[11px] font-black uppercase text-gray-400 px-2"},"Phone Number",-1)),m(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>n(x).phone=s),type:"text",class:"w-full bg-[#f8f9fb] border-[#ececf2] rounded-[20px] py-5 px-8 text-sm font-bold focus:ring-[#ff2e63]/20 focus:border-[#ff2e63] text-[#1f1f1f]",required:""},null,512),[[k,n(x).phone]])]),e("div",Ot,[t[27]||(t[27]=e("label",{class:"text-[11px] font-black uppercase text-gray-400 px-2"},"Email (Optional)",-1)),m(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>n(x).email=s),type:"email",class:"w-full bg-[#f8f9fb] border-[#ececf2] rounded-[20px] py-5 px-8 text-sm font-bold focus:ring-[#ff2e63]/20 focus:border-[#ff2e63] text-[#1f1f1f]"},null,512),[[k,n(x).email]])]),t[28]||(t[28]=e("button",{type:"submit",class:"w-full py-6 bg-[#ff2e63] text-white rounded-[24px] font-black uppercase tracking-widest text-[11px] shadow-2xl shadow-[#ff2e63]/20 hover:bg-[#e60045] transition-all mt-4"}," Save & Select Customer ",-1))],32)])])])):f("",!0),P.value?(r(),l("div",{key:2,class:"fixed inset-0 z-[150] flex items-center justify-center p-8 bg-[#1f1f1f]/40 backdrop-blur-md",onClick:t[14]||(t[14]=F(s=>P.value=!1,["self"]))},[e("div",Ht,[e("div",Qt,[e("div",null,[e("h3",Rt,a(V.value?.customer.name),1),t[29]||(t[29]=e("p",{class:"text-[10px] font-black uppercase tracking-widest text-[#ff2e63] mt-2"},"Purchase History Ledger",-1))]),e("button",{onClick:t[13]||(t[13]=s=>P.value=!1),class:"p-4 bg-[#f8f9fb] text-gray-400 rounded-full hover:text-[#ff2e63] transition-all"},[...t[30]||(t[30]=[e("svg",{class:"w-7 h-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"3"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Wt,[V.value?.invoices.length===0?(r(),l("div",Gt,"No transaction history")):f("",!0),(r(!0),l(y,null,w(V.value?.invoices,s=>(r(),l("div",{key:s.id,class:"bg-white p-6 rounded-[28px] border border-[#ececf2] flex items-center justify-between hover:border-[#ff2e63] hover:shadow-xl hover:shadow-[#ff2e63]/5 transition-all"},[e("div",{class:N(n(i).language==="ar"?"text-right":"text-left")},[e("p",Kt,a(s.invoice_number),1),e("p",Jt,a(s.created_at),1)],2),e("div",Xt,[e("p",Yt,a(b(s.total)),1),e("span",{class:N(["text-[8px] font-black uppercase tracking-widest px-3 py-1 rounded-lg border",s.status==="paid"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-red-50 text-red-600 border-red-100"])},a(s.status),3)])]))),128))])])])):f("",!0)]),_:1})],64))}},ls=ue(Zt,[["__scopeId","data-v-29b6ff39"]]);export{ls as default};
