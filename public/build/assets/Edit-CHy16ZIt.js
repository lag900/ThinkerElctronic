import{u as w,c as r,a as y,b as s,h as v,w as f,d as e,e as S,t as i,i as _,f as c,v as p,o as d,F as b,r as h,s as V}from"./app-CwSgfrF7.js";import{_ as U}from"./AdminLayout-ByBs5Sq6.js";import{c as N}from"./CartStore-ZGfwtq5b.js";const L={class:"max-w-7xl mx-auto"},M={class:"flex justify-between items-center bg-white p-10 rounded-[50px] border border-slate-50 shadow-[0_20px_60px_rgba(0,0,0,0.02)]"},j={class:"text-2xl font-black text-[#222] tracking-tighter capitalize"},C={class:"flex gap-4"},T=["href"],D=["disabled"],E={class:"grid grid-cols-1 lg:grid-cols-2 gap-10 text-[10px] font-black uppercase tracking-[0.3em] text-slate-300"},J={class:"space-y-8 bg-white p-12 rounded-[60px] border border-slate-50 shadow-[0_40px_80px_rgba(0,0,0,0.02)]"},O={class:"space-y-3"},P={key:0,class:"space-y-3"},B={class:"ml-6 uppercase"},F=["onUpdate:modelValue"],z=["onUpdate:modelValue"],A={class:"space-y-8 bg-white p-12 rounded-[60px] border border-slate-50 shadow-[0_40px_80px_rgba(0,0,0,0.02)]",dir:"rtl"},H={class:"space-y-3"},I={key:0,class:"space-y-3"},$={class:"mr-6 font-sans uppercase"},G=["onUpdate:modelValue"],R=["onUpdate:modelValue"],W={class:"text-center p-10 bg-slate-50/50 rounded-[40px] border border-dashed border-slate-200"},q={class:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400"},Y={__name:"Edit",props:{page:Object},setup(l){const o=l,t=w({title_en:o.page.title_en||"",title_ar:o.page.title_ar||"",content_en:o.page.slug==="contact"?x(o.page.content_en)||o.page.content_en:o.page.content_en||"",content_ar:o.page.slug==="contact"?x(o.page.content_ar)||o.page.content_ar:o.page.content_ar||""});function x(g){try{return JSON.parse(g)}catch{return null}}const m=[{key:"phone",label:"Phone Number"},{key:"whatsapp",label:"WhatsApp"},{key:"email",label:"Email Address"},{key:"description",label:"Description Text",type:"textarea"},{key:"facebook",label:"Facebook Link"},{key:"instagram",label:"Instagram Link"},{key:"address",label:"Physical Address"},{key:"map_embed",label:"Google Map Embed Code",type:"textarea"}],k=()=>{({...t},o.page.slug==="contact"&&(JSON.stringify(t.content_en),JSON.stringify(t.content_ar))),t.transform(g=>({...g,content_en:o.page.slug==="contact"?JSON.stringify(t.content_en):t.content_en,content_ar:o.page.slug==="contact"?JSON.stringify(t.content_ar):t.content_ar})).put(route("admin.content.pages.update",o.page.id),{onSuccess:()=>V.notify("Page content synchronized")})};return o.page.slug==="contact"&&((typeof t.content_en!="object"||t.content_en===null)&&(t.content_en={phone:"",whatsapp:"",email:"",description:"",facebook:"",instagram:"",address:"",map_embed:""}),(typeof t.content_ar!="object"||t.content_ar===null)&&(t.content_ar={phone:"",whatsapp:"",email:"",description:"",facebook:"",instagram:"",address:"",map_embed:""})),(g,n)=>(d(),r(b,null,[y(s(v),{title:`CMS: ${l.page.slug}`},null,8,["title"]),y(U,null,{header:f(()=>[_(i(s(N).language==="ar"?"إدارة المحتوى":"Content Intelligence")+" - "+i(l.page.slug),1)]),default:f(()=>[e("div",L,[e("form",{onSubmit:S(k,["prevent"]),class:"space-y-12"},[e("div",M,[e("div",null,[e("h3",j,i(l.page.slug.replace("-"," ")),1),n[4]||(n[4]=e("p",{class:"text-[10px] font-black text-slate-300 uppercase tracking-[0.3em] mt-2"},"Dynamic System Page Node",-1))]),e("div",C,[e("a",{href:g.route(l.page.slug),target:"_blank",class:"bg-slate-100 hover:bg-slate-200 text-[#222] px-8 py-5 rounded-[28px] font-black uppercase tracking-widest text-[11px] transition-all active:scale-95 flex items-center gap-2"},[...n[5]||(n[5]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1),_(" Preview ",-1)])],8,T),e("button",{type:"submit",disabled:s(t).processing,class:"bg-[#222] hover:bg-brand-500 text-white px-10 py-5 rounded-[28px] font-black uppercase tracking-widest text-[11px] transition-all shadow-xl shadow-black/10 active:scale-95 disabled:opacity-50"},i(s(t).processing?"Synchronizing...":"Save Changes"),9,D)])]),e("div",E,[e("div",J,[n[8]||(n[8]=e("div",{class:"flex items-center gap-4 mb-4"},[e("div",{class:"w-8 h-8 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400"},"EN"),e("span",{class:"text-slate-400"},"English Specifications")],-1)),e("div",O,[n[6]||(n[6]=e("label",{class:"ml-6 uppercase"},"Page Title",-1)),c(e("input",{"onUpdate:modelValue":n[0]||(n[0]=a=>s(t).title_en=a),type:"text",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20 shadow-inner"},null,512),[[p,s(t).title_en]])]),l.page.slug!=="contact"?(d(),r("div",P,[n[7]||(n[7]=e("label",{class:"ml-6 uppercase"},"Content Body (HTML Supported)",-1)),c(e("textarea",{"onUpdate:modelValue":n[1]||(n[1]=a=>s(t).content_en=a),rows:"20",class:"w-full bg-slate-50 border-none rounded-[40px] px-8 py-8 text-sm font-medium leading-relaxed focus:ring-2 focus:ring-brand-500/20 shadow-inner"},null,512),[[p,s(t).content_en]])])):(d(),r(b,{key:1},h(m,a=>e("div",{key:a.key,class:"space-y-3"},[e("label",B,i(a.label),1),a.type==="textarea"?c((d(),r("textarea",{key:0,"onUpdate:modelValue":u=>s(t).content_en[a.key]=u,rows:"3",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20 shadow-inner"},null,8,F)),[[p,s(t).content_en[a.key]]]):c((d(),r("input",{key:1,"onUpdate:modelValue":u=>s(t).content_en[a.key]=u,type:"text",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20 shadow-inner"},null,8,z)),[[p,s(t).content_en[a.key]]])])),64))]),e("div",A,[n[11]||(n[11]=e("div",{class:"flex items-center gap-4 mb-4"},[e("div",{class:"w-8 h-8 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400"},"AR"),e("span",{class:"text-slate-400"},"المواصفات العربية")],-1)),e("div",H,[n[9]||(n[9]=e("label",{class:"mr-6 font-sans uppercase"},"عنوان الصفحة",-1)),c(e("input",{"onUpdate:modelValue":n[2]||(n[2]=a=>s(t).title_ar=a),dir:"rtl",type:"text",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20 font-sans text-right shadow-inner"},null,512),[[p,s(t).title_ar]])]),l.page.slug!=="contact"?(d(),r("div",I,[n[10]||(n[10]=e("label",{class:"mr-6 font-sans uppercase"},"محتوى الصفحة (يدعم HTML)",-1)),c(e("textarea",{"onUpdate:modelValue":n[3]||(n[3]=a=>s(t).content_ar=a),dir:"rtl",rows:"20",class:"w-full bg-slate-50 border-none rounded-[40px] px-8 py-8 text-sm font-medium leading-relaxed focus:ring-2 focus:ring-brand-500/20 font-sans text-right shadow-inner"},null,512),[[p,s(t).content_ar]])])):(d(),r(b,{key:1},h(m,a=>e("div",{key:a.key,class:"space-y-3"},[e("label",$,i(a.label),1),a.type==="textarea"?c((d(),r("textarea",{key:0,"onUpdate:modelValue":u=>s(t).content_ar[a.key]=u,rows:"3",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20 font-sans text-right shadow-inner"},null,8,G)),[[p,s(t).content_ar[a.key]]]):c((d(),r("input",{key:1,"onUpdate:modelValue":u=>s(t).content_ar[a.key]=u,type:"text",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20 font-sans text-right shadow-inner"},null,8,R)),[[p,s(t).content_ar[a.key]]])])),64))])]),e("div",W,[e("p",q,"System Traceability ID: "+i(l.page.id)+" | Last Synchronized: "+i(new Date(l.page.updated_at).toLocaleString()),1)])],32)])]),_:1})],64))}};export{Y as default};
