import{o as r,c as n,a as f,w as b,d as e,t as c,g as y,b as i,q as h,n as w,F as _,i as p,E as C,k as v}from"./app-CwSgfrF7.js";import{c as x}from"./CartStore-ZGfwtq5b.js";const q={class:"bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col h-full border border-gray-50"},j=["src"],V={key:0,class:"absolute top-4 left-4"},B={class:"bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-[10px] font-bold text-black uppercase shadow-sm"},N={class:"p-6 flex-1 flex flex-col"},O={class:"text-sm font-black text-black uppercase tracking-tight line-clamp-2 leading-tight"},E={class:"mt-auto space-y-6"},S={class:"flex items-baseline gap-1"},T={class:"text-2xl font-black text-[#ff2d55]"},z={class:"flex items-center justify-between gap-4"},F=["disabled"],M={class:"text-xs font-black w-4 text-center"},P=["disabled"],D=["disabled"],G={key:0,class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"3"},H={key:1,class:"text-[8px] font-black uppercase text-center leading-tight"},I={key:1,class:"w-6 h-6 border-4 border-white/20 border-t-white rounded-full animate-spin"},J={__name:"ProductCard",props:{product:Object},setup(t){const o=t,a=v(1),d=v(!1),s=C(()=>(o.product.stock_quantity??0)<=0),m=()=>{a.value<o.product.stock_quantity&&a.value++},g=()=>{a.value>1&&a.value--},k=async()=>{s.value||d.value||(d.value=!0,setTimeout(()=>{x.addItem({id:o.product.id,name:o.product.name,price:o.product.price,image_url:o.product.image_url,category:o.product.category?.name,quantity:a.value}),d.value=!1,a.value=1},600))};return(u,l)=>(r(),n("div",q,[f(i(h),{href:u.route("product.show",t.product.id),class:"relative aspect-square overflow-hidden block"},{default:b(()=>[e("img",{src:t.product.image_url,class:"w-full h-full object-cover transition-transform duration-500 hover:scale-105"},null,8,j),t.product.category?(r(),n("div",V,[e("span",B,c(t.product.category.name),1)])):y("",!0)]),_:1},8,["href"]),e("div",N,[f(i(h),{href:u.route("product.show",t.product.id),class:"block mb-4"},{default:b(()=>[e("h3",O,c(i(x).language==="ar"&&t.product.name_ar||t.product.name),1)]),_:1},8,["href"]),e("div",E,[e("div",S,[e("span",T,c(t.product.price),1),l[0]||(l[0]=e("span",{class:"text-[10px] font-bold text-gray-400 uppercase"},"EGP",-1))]),e("div",z,[e("div",{class:w(["flex items-center bg-gray-50 rounded-full px-4 py-2 border border-gray-100 flex-1 justify-between",{"opacity-50 pointer-events-none":s.value}])},[e("button",{onClick:g,class:"text-gray-400 font-bold text-lg hover:text-black transition-colors",disabled:a.value<=1||s.value},"-",8,F),e("span",M,c(a.value),1),e("button",{onClick:m,class:"text-gray-400 font-bold text-lg hover:text-black transition-colors",disabled:a.value>=t.product.stock_quantity||s.value},"+",8,P)],2),e("button",{onClick:k,disabled:s.value||d.value,class:"w-14 h-14 bg-[#ff2d55] rounded-2xl flex items-center justify-center text-white shadow-lg shadow-[#ff2d55]/30 hover:bg-[#e11d48] active:scale-95 transition-all relative disabled:bg-gray-300 disabled:shadow-none disabled:cursor-not-allowed"},[d.value?(r(),n("div",I)):(r(),n(_,{key:0},[s.value?(r(),n("span",H,[...l[2]||(l[2]=[p("Out of",-1),e("br",null,null,-1),p("Stock",-1)])])):(r(),n("svg",G,[...l[1]||(l[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"},null,-1)])]))],64))],8,D)])])])]))}};export{J as _};
