import{g as v,c as l,a as m,u as n,h as E,w as h,b as e,k as S,n as V,t as i,e as k,i as g,v as p,o as c,F as y,r as w,s as A}from"./app-V8ckSNYE.js";import{_ as U}from"./AdminLayout-nyRtCmx9.js";import{c as d}from"./CartStore-DJnHsxoD.js";const N=["dir"],M={class:"flex flex-col md:flex-row justify-between items-center bg-white p-10 rounded-[24px] border border-gray-100 shadow-sm gap-10 relative overflow-hidden group"},C={class:"text-3xl font-black text-gray-900 tracking-tighter uppercase"},L={class:"text-xs font-bold text-gray-400 mt-2"},j={class:"flex gap-4 w-full md:w-auto relative z-10"},D=["href"],O=["disabled"],P={class:"grid grid-cols-1 lg:grid-cols-2 gap-10"},T={class:"space-y-8 bg-white p-12 rounded-[28px] border border-gray-100 shadow-sm relative overflow-hidden",dir:"ltr"},F={class:"space-y-3"},z={key:0,class:"space-y-3"},B={class:"text-[11px] font-black uppercase tracking-widest text-gray-500 px-1"},H=["onUpdate:modelValue"],J=["onUpdate:modelValue"],G={class:"space-y-8 bg-white p-12 rounded-[28px] border border-gray-100 shadow-sm relative overflow-hidden",dir:"rtl"},I={class:"space-y-3"},$={key:0,class:"space-y-3"},Q={class:"text-[11px] font-black uppercase tracking-widest text-gray-500 px-1 text-right"},R=["onUpdate:modelValue"],W=["onUpdate:modelValue"],Y={class:"text-center p-12 bg-gray-50/50 rounded-[28px] border border-dashed border-gray-200"},q={class:"text-[11px] font-black text-gray-400 uppercase tracking-[0.3em] flex items-center justify-center gap-4"},ee={__name:"Edit",props:{page:Object},setup(o){const s=o,a=v({title_en:s.page.title_en||"",title_ar:s.page.title_ar||"",content_en:s.page.slug==="contact"?b(s.page.content_en)||s.page.content_en:s.page.content_en||"",content_ar:s.page.slug==="contact"?b(s.page.content_ar)||s.page.content_ar:s.page.content_ar||""});function b(x){try{return JSON.parse(x)}catch{return null}}const f=[{key:"phone",labelAr:"رقم الهاتف الرئيسي",labelEn:"Primary Phone"},{key:"whatsapp",labelAr:"رابط الواتساب المباشر",labelEn:"Direct WhatsApp"},{key:"email",labelAr:"البريد الإلكتروني الرسمي",labelEn:"Official Email"},{key:"description",labelAr:"النص التعريفي للقسم",labelEn:"Section Narrative",type:"textarea"},{key:"facebook",labelAr:"رابط الفيسبوك",labelEn:"Facebook Source"},{key:"instagram",labelAr:"رابط الانستجرام",labelEn:"Instagram Source"},{key:"address",labelAr:"العنوان الجغرافي / المقر",labelEn:"HQ Physical Address"},{key:"map_embed",labelAr:"كود تضمين خريطة جوجل",labelEn:"Google Maps Logic",type:"textarea"}],_=()=>{a.transform(x=>({...x,content_en:s.page.slug==="contact"?JSON.stringify(a.content_en):a.content_en,content_ar:s.page.slug==="contact"?JSON.stringify(a.content_ar):a.content_ar})).put(route("admin.content.pages.update",s.page.id),{onSuccess:()=>A.notify(d.language==="ar"?"تمت مزامنة محتوى الصفحة بنجاح":"Page content synchronized")})};return s.page.slug==="contact"&&((typeof a.content_en!="object"||a.content_en===null)&&(a.content_en={phone:"",whatsapp:"",email:"",description:"",facebook:"",instagram:"",address:"",map_embed:""}),(typeof a.content_ar!="object"||a.content_ar===null)&&(a.content_ar={phone:"",whatsapp:"",email:"",description:"",facebook:"",instagram:"",address:"",map_embed:""})),(x,t)=>(c(),l(y,null,[m(n(E),{title:`CMS: ${o.page.slug}`},null,8,["title"]),m(U,null,{header:h(()=>[k(i(n(d).language==="ar"?"محرر محتوى الصفحات التعريفية (CMS)":"Dynamic CMS Page Orchestrator"),1)]),default:h(()=>[e("div",{class:"max-w-7xl mx-auto font-inter",dir:n(d).language==="ar"?"rtl":"ltr"},[e("form",{onSubmit:S(_,["prevent"]),class:"space-y-10"},[e("div",M,[t[5]||(t[5]=e("div",{class:"absolute top-0 right-0 w-32 h-32 bg-gray-50 rounded-full -mr-16 -mt-16 opacity-50 group-hover:bg-gray-100 transition-colors"},null,-1)),e("div",{class:V(["relative z-10",n(d).language==="ar"?"text-right":"text-left"])},[e("h3",C,i(o.page.slug.replace("-"," ")),1),e("p",L,i(n(d).language==="ar"?"إدارة النصوص والترجمات والروابط للصفحات العامة بالموقع الرسمي":"Manage strategic narratives, translations, and endpoints for public pages"),1)],2),e("div",j,[e("a",{href:o.page.slug==="contact"?"/contact":"/#p-"+o.page.id,target:"_blank",class:"flex-1 md:flex-none justify-center bg-white border border-gray-200 text-gray-700 px-10 py-5 rounded-[16px] font-black text-[11px] uppercase tracking-widest transition-all hover:bg-gray-50 flex items-center gap-3 shadow-sm active:scale-95"},[t[4]||(t[4]=e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},[e("path",{d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)),k(" "+i(n(d).language==="ar"?"معاينة العرض":"Live Preview"),1)],8,D),e("button",{type:"submit",disabled:n(a).processing,class:"flex-1 md:flex-none bg-gray-900 text-white px-12 py-5 rounded-[16px] font-black text-[11px] uppercase tracking-[0.2em] transition-all shadow-2xl shadow-gray-900/40 hover:bg-gray-800 disabled:opacity-50 active:scale-95"},i(n(a).processing?n(d).language==="ar"?"جاري المزامنة...":"Syncing...":n(d).language==="ar"?"حفظ التغييرات":"Persist Content"),9,O)])]),e("div",P,[e("div",T,[t[8]||(t[8]=e("div",{class:"absolute top-0 right-0 w-1.5 h-full bg-blue-500 opacity-10"},null,-1)),t[9]||(t[9]=e("div",{class:"flex items-center gap-4 pb-6 border-b border-gray-100 mb-4"},[e("div",{class:"w-10 h-10 rounded-xl bg-gray-900 text-white flex items-center justify-center text-xs font-black shadow-lg"},"EN"),e("span",{class:"text-[10px] font-black text-gray-400 uppercase tracking-[0.3em]"},"English Narrative Source")],-1)),e("div",F,[t[6]||(t[6]=e("label",{class:"text-[11px] font-black uppercase tracking-widest text-gray-500 px-1"},"Structural Title",-1)),g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>n(a).title_en=r),type:"text",class:"w-full bg-gray-50 border-none rounded-[16px] px-8 py-5 text-sm font-black text-gray-900 shadow-inner focus:ring-2 focus:ring-gray-900 transition-all",placeholder:"Enter English Title..."},null,512),[[p,n(a).title_en]])]),o.page.slug!=="contact"?(c(),l("div",z,[t[7]||(t[7]=e("label",{class:"text-[11px] font-black uppercase tracking-widest text-gray-500 px-1"},"Narrative Content (HTML Logic Supported)",-1)),g(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=r=>n(a).content_en=r),rows:"20",class:"w-full bg-gray-50 border-none rounded-[16px] px-8 py-8 text-sm font-medium leading-relaxed shadow-inner focus:ring-2 focus:ring-gray-900 text-gray-900",placeholder:"Enter English content nodes..."},null,512),[[p,n(a).content_en]])])):(c(),l(y,{key:1},w(f,r=>e("div",{key:r.key,class:"space-y-3"},[e("label",B,i(r.labelEn),1),r.type==="textarea"?g((c(),l("textarea",{key:0,"onUpdate:modelValue":u=>n(a).content_en[r.key]=u,rows:"4",class:"w-full bg-gray-50 border-none rounded-[16px] px-8 py-5 text-sm font-black shadow-inner focus:ring-2 focus:ring-gray-900 text-gray-900"},null,8,H)),[[p,n(a).content_en[r.key]]]):g((c(),l("input",{key:1,"onUpdate:modelValue":u=>n(a).content_en[r.key]=u,type:"text",class:"w-full bg-gray-50 border-none rounded-[16px] px-8 py-5 text-sm font-black shadow-inner focus:ring-2 focus:ring-gray-900 text-gray-900"},null,8,J)),[[p,n(a).content_en[r.key]]])])),64))]),e("div",G,[t[12]||(t[12]=e("div",{class:"absolute top-0 right-0 w-1.5 h-full bg-emerald-500 opacity-10"},null,-1)),t[13]||(t[13]=e("div",{class:"flex items-center gap-4 pb-6 border-b border-gray-100 mb-4"},[e("div",{class:"w-10 h-10 rounded-xl bg-gray-900 text-white flex items-center justify-center text-xs font-black shadow-lg"},"AR"),e("span",{class:"text-[10px] font-black text-gray-400 uppercase tracking-[0.3em]"},"مصدر المحتوى العربي")],-1)),e("div",I,[t[10]||(t[10]=e("label",{class:"text-[11px] font-black uppercase tracking-widest text-gray-500 px-1 text-right"},"عنوان الصفحة الهيكلي",-1)),g(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>n(a).title_ar=r),type:"text",class:"w-full bg-gray-50 border-none rounded-[16px] px-8 py-5 text-sm font-black text-gray-900 shadow-inner focus:ring-2 focus:ring-gray-900 transition-all text-right",placeholder:"أدخل العنوان بالعربية للتصنيف..."},null,512),[[p,n(a).title_ar]])]),o.page.slug!=="contact"?(c(),l("div",$,[t[11]||(t[11]=e("label",{class:"text-[11px] font-black uppercase tracking-widest text-gray-500 px-1 text-right"},"متن الصفحة الأصلي (يدعم وسوم HTML)",-1)),g(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=r=>n(a).content_ar=r),rows:"20",class:"w-full bg-gray-50 border-none rounded-[16px] px-8 py-8 text-sm font-medium leading-relaxed shadow-inner focus:ring-2 focus:ring-gray-900 text-gray-900 text-right",placeholder:"أدخل المحتوى العربي المخصص للعرض..."},null,512),[[p,n(a).content_ar]])])):(c(),l(y,{key:1},w(f,r=>e("div",{key:r.key,class:"space-y-3"},[e("label",Q,i(r.labelAr),1),r.type==="textarea"?g((c(),l("textarea",{key:0,"onUpdate:modelValue":u=>n(a).content_ar[r.key]=u,rows:"4",class:"w-full bg-gray-50 border-none rounded-[16px] px-8 py-5 text-sm font-black shadow-inner focus:ring-2 focus:ring-gray-900 text-gray-900 text-right"},null,8,R)),[[p,n(a).content_ar[r.key]]]):g((c(),l("input",{key:1,"onUpdate:modelValue":u=>n(a).content_ar[r.key]=u,type:"text",class:"w-full bg-gray-50 border-none rounded-[16px] px-8 py-5 text-sm font-black shadow-inner focus:ring-2 focus:ring-gray-900 text-gray-900 text-right"},null,8,W)),[[p,n(a).content_ar[r.key]]])])),64))])]),e("div",Y,[e("p",q,[e("span",null,"NODE ID: "+i(o.page.id),1),t[14]||(t[14]=e("span",{class:"w-1.5 h-1.5 rounded-full bg-gray-300"},null,-1)),e("span",null,"LAST SYNC: "+i(new Date(o.page.updated_at).toLocaleString(n(d).language==="ar"?"ar-EG":"en-US")),1)])])],32)],8,N)]),_:1})],64))}};export{ee as default};
