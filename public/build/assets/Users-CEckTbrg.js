import{y as I,z as Ie,k as N,u as Ne,A as Re,j as ne,c as h,a as se,b as f,h as Ee,w as ae,d as e,f as T,v as R,t as v,o as y,F as E,r as F,p as oe,n as M,g as ie,e as Ue,i as Ce,s as A}from"./app-CwSgfrF7.js";import{_ as Le}from"./AdminLayout-ByBs5Sq6.js";import{c as w}from"./CartStore-ZGfwtq5b.js";var D,le;function we(){if(le)return D;le=1;function n(s){var i=typeof s;return s!=null&&(i=="object"||i=="function")}return D=n,D}var G,de;function Fe(){if(de)return G;de=1;var n=typeof I=="object"&&I&&I.Object===Object&&I;return G=n,G}var V,ue;function ke(){if(ue)return V;ue=1;var n=Fe(),s=typeof self=="object"&&self&&self.Object===Object&&self,i=n||s||Function("return this")();return V=i,V}var $,ce;function Me(){if(ce)return $;ce=1;var n=ke(),s=function(){return n.Date.now()};return $=s,$}var B,fe;function Ae(){if(fe)return B;fe=1;var n=/\s/;function s(i){for(var l=i.length;l--&&n.test(i.charAt(l)););return l}return B=s,B}var P,pe;function De(){if(pe)return P;pe=1;var n=Ae(),s=/^\s+/;function i(l){return l&&l.slice(0,n(l)+1).replace(s,"")}return P=i,P}var z,be;function Te(){if(be)return z;be=1;var n=ke(),s=n.Symbol;return z=s,z}var W,me;function Ge(){if(me)return W;me=1;var n=Te(),s=Object.prototype,i=s.hasOwnProperty,l=s.toString,d=n?n.toStringTag:void 0;function p(o){var b=i.call(o,d),m=o[d];try{o[d]=void 0;var a=!0}catch{}var g=l.call(o);return a&&(b?o[d]=m:delete o[d]),g}return W=p,W}var H,ge;function Ve(){if(ge)return H;ge=1;var n=Object.prototype,s=n.toString;function i(l){return s.call(l)}return H=i,H}var K,xe;function $e(){if(xe)return K;xe=1;var n=Te(),s=Ge(),i=Ve(),l="[object Null]",d="[object Undefined]",p=n?n.toStringTag:void 0;function o(b){return b==null?b===void 0?d:l:p&&p in Object(b)?s(b):i(b)}return K=o,K}var X,ve;function Be(){if(ve)return X;ve=1;function n(s){return s!=null&&typeof s=="object"}return X=n,X}var J,he;function Pe(){if(he)return J;he=1;var n=$e(),s=Be(),i="[object Symbol]";function l(d){return typeof d=="symbol"||s(d)&&n(d)==i}return J=l,J}var Q,ye;function ze(){if(ye)return Q;ye=1;var n=De(),s=we(),i=Pe(),l=NaN,d=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,o=/^0o[0-7]+$/i,b=parseInt;function m(a){if(typeof a=="number")return a;if(i(a))return l;if(s(a)){var g=typeof a.valueOf=="function"?a.valueOf():a;a=s(g)?g+"":g}if(typeof a!="string")return a===0?a:+a;a=n(a);var u=p.test(a);return u||o.test(a)?b(a.slice(2),u?2:8):d.test(a)?l:+a}return Q=m,Q}var Y,_e;function We(){if(_e)return Y;_e=1;var n=we(),s=Me(),i=ze(),l="Expected a function",d=Math.max,p=Math.min;function o(b,m,a){var g,u,t,r,x,k,j=0,Z=!1,S=!1,U=!0;if(typeof b!="function")throw new TypeError(l);m=i(m)||0,n(a)&&(Z=!!a.leading,S="maxWait"in a,t=S?d(i(a.maxWait)||0,m):t,U="trailing"in a?!!a.trailing:U);function C(c){var _=g,q=u;return g=u=void 0,j=c,r=b.apply(q,_),r}function je(c){return j=c,x=setTimeout(O,m),Z?C(c):r}function Se(c){var _=c-k,q=c-j,re=m-_;return S?p(re,t-q):re}function ee(c){var _=c-k,q=c-j;return k===void 0||_>=m||_<0||S&&q>=t}function O(){var c=s();if(ee(c))return te(c);x=setTimeout(O,Se(c))}function te(c){return x=void 0,U&&g?C(c):(g=u=void 0,r)}function qe(){x!==void 0&&clearTimeout(x),j=0,g=k=u=x=void 0}function Oe(){return x===void 0?r:te(s())}function L(){var c=s(),_=ee(c);if(g=arguments,u=this,k=c,_){if(x===void 0)return je(k);if(S)return clearTimeout(x),x=setTimeout(O,m),C(k)}return x===void 0&&(x=setTimeout(O,m)),r}return L.cancel=qe,L.flush=Oe,L}return Y=o,Y}var He=We();const Ke=Ie(He),Xe={class:"space-y-12"},Je={class:"flex justify-between items-center bg-white p-10 rounded-[50px] border border-slate-50 shadow-[0_20px_60px_rgba(0,0,0,0.02)]"},Qe={class:"flex gap-8 items-center flex-1"},Ye={class:"relative flex-1 max-w-md"},Ze=["placeholder"],et={value:""},tt=["value"],rt={class:"bg-white rounded-[50px] border border-slate-50 shadow-[0_40px_80px_rgba(0,0,0,0.02)] overflow-hidden"},nt={class:"bg-slate-50/50 text-[10px] font-black uppercase tracking-[0.3em] text-slate-300"},st={class:"divide-y divide-slate-50"},at={class:"px-10 py-8"},ot={class:"flex items-center gap-6"},it={class:"w-14 h-14 bg-slate-50 rounded-2xl flex items-center justify-center font-black text-brand-500 border border-slate-100 group-hover:bg-white transition-all"},lt={class:"text-[15px] font-black text-[#222]"},dt={class:"text-[10px] font-black text-slate-300 uppercase tracking-widest mt-1"},ut={class:"px-10 py-8"},ct={class:"inline-flex px-4 py-1.5 bg-slate-100 rounded-full text-[10px] font-black uppercase tracking-widest text-[#222]"},ft={class:"flex gap-3 justify-end"},pt=["onClick"],bt=["onClick"],mt={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-8"},gt={class:"bg-white w-full max-w-xl rounded-[60px] relative z-10 overflow-hidden shadow-2xl border border-white/20 animate-slide-in"},xt={class:"p-12"},vt={class:"text-3xl font-black text-[#222] tracking-tighter mb-10"},ht={class:"space-y-2"},yt={class:"space-y-2"},_t={class:"space-y-2"},wt=["value"],kt={class:"space-y-2"},Tt=["required","placeholder"],jt={class:"flex gap-4 pt-4"},St=["disabled"],Nt={__name:"Users",props:{users:Object,roles:Array,filters:Object},setup(n){const s=n,i=N(s.filters.search||""),l=N(s.filters.role_id||""),d=N(!1),p=N(null),o=Ne({name:"",email:"",password:"",role_id:""}),b=()=>{p.value=null,o.reset(),d.value=!0},m=u=>{p.value=u,o.name=u.name,o.email=u.email,o.role_id=u.role_id,o.password="",d.value=!0},a=()=>{p.value?o.put(route("admin.users.update",p.value.id),{onSuccess:()=>{d.value=!1,A.notify("User updated successfully")}}):o.post(route("admin.users.store"),{onSuccess:()=>{d.value=!1,A.notify("User created successfully")}})},g=u=>{confirm(`Terminate user node ${u.name}? This action is permanent.`)&&ne.delete(route("admin.users.destroy",u.id),{onSuccess:()=>A.notify("User node terminated","error")})};return Re([i,l],Ke(()=>{ne.get(route("admin.users.index"),{search:i.value,role_id:l.value},{preserveState:!0,replace:!0})},300)),(u,t)=>(y(),h(E,null,[se(f(Ee),{title:"Enterprise User Matrix"}),se(Le,null,{header:ae(()=>[Ce(v(f(w).language==="ar"?"إدارة المستخدمين":"Enterprise User Matrix"),1)]),default:ae(()=>[e("div",Xe,[e("div",Je,[e("div",Qe,[e("div",Ye,[T(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>i.value=r),type:"text",placeholder:f(w).language==="ar"?"البحث عن مستخدم...":"Search hardware operators...",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-4 text-sm font-bold focus:ring-2 focus:ring-brand-500/20 transition-all"},null,8,Ze),[[R,i.value]])]),T(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>l.value=r),class:"bg-slate-50 border-none rounded-[30px] px-8 py-4 text-sm font-bold focus:ring-2 focus:ring-brand-500/20 transition-all cursor-pointer"},[e("option",et,v(f(w).language==="ar"?"جميع الأدوار":"All Designations"),1),(y(!0),h(E,null,F(n.roles,r=>(y(),h("option",{key:r.id,value:r.id},v(r.label),9,tt))),128))],512),[[oe,l.value]])]),e("button",{onClick:b,class:"bg-[#222] hover:bg-brand-500 text-white px-8 py-4 rounded-[28px] font-black uppercase tracking-widest text-[11px] transition-all shadow-xl shadow-black/10 active:scale-95"}," + "+v(f(w).language==="ar"?"مستخدم جديد":"Initialize New Node"),1)]),e("div",rt,[e("table",{class:M(["w-full",{"text-right":f(w).language==="ar","text-left":f(w).language!=="ar"}])},[e("thead",null,[e("tr",nt,[t[8]||(t[8]=e("th",{class:"px-10 py-10"},"Operator Node",-1)),t[9]||(t[9]=e("th",{class:"px-10 py-10"},"Designation",-1)),t[10]||(t[10]=e("th",{class:"px-10 py-10"},"Status",-1)),e("th",{class:M(["px-10 py-10",f(w).language==="ar"?"text-left":"text-right"])},"Protocols",2)])]),e("tbody",st,[(y(!0),h(E,null,F(n.users.data,r=>(y(),h("tr",{key:r.id,class:"group hover:bg-slate-50/30 transition-all duration-500"},[e("td",at,[e("div",ot,[e("div",it,v(r.name.charAt(0)),1),e("div",null,[e("h4",lt,v(r.name),1),e("p",dt,v(r.email),1)])])]),e("td",ut,[e("span",ct,v(r.role_node?.label||"Unassigned"),1)]),t[13]||(t[13]=e("td",{class:"px-10 py-8"},[e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),e("span",{class:"text-[10px] font-black uppercase tracking-widest text-[#222]"},"Active")])],-1)),e("td",{class:M(["px-10 py-8",f(w).language==="ar"?"text-left":"text-right"])},[e("div",ft,[e("button",{onClick:x=>m(r),class:"p-4 bg-white border border-slate-100 hover:border-brand-500/30 rounded-2xl text-slate-400 hover:text-brand-500 transition-all shadow-sm"},[...t[11]||(t[11]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,pt),r.id!==u.$page.props.auth.user.id?(y(),h("button",{key:0,onClick:x=>g(r),class:"p-4 bg-white border border-slate-100 hover:border-red-500/30 rounded-2xl text-slate-400 hover:text-red-500 transition-all shadow-sm"},[...t[12]||(t[12]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,bt)):ie("",!0)])],2)]))),128))])],2)])]),d.value?(y(),h("div",mt,[e("div",{class:"absolute inset-0 bg-[#222]/80 backdrop-blur-md",onClick:t[2]||(t[2]=r=>d.value=!1)}),e("div",gt,[e("div",xt,[e("h3",vt,v(p.value?"Modify User Node":"Deploy New User Node"),1),e("form",{onSubmit:Ue(a,["prevent"]),class:"space-y-8"},[e("div",ht,[t[14]||(t[14]=e("label",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-300 ml-6"},"Full Identity",-1)),T(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>f(o).name=r),type:"text",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20",required:""},null,512),[[R,f(o).name]])]),e("div",yt,[t[15]||(t[15]=e("label",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-300 ml-6"},"Email Address",-1)),T(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>f(o).email=r),type:"email",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20",required:""},null,512),[[R,f(o).email]])]),e("div",_t,[t[17]||(t[17]=e("label",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-300 ml-6"},"Access Designation",-1)),T(e("select",{"onUpdate:modelValue":t[5]||(t[5]=r=>f(o).role_id=r),class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20 appearance-none",required:""},[t[16]||(t[16]=e("option",{value:"",disabled:""},"Select Role...",-1)),(y(!0),h(E,null,F(n.roles,r=>(y(),h("option",{key:r.id,value:r.id},v(r.label),9,wt))),128))],512),[[oe,f(o).role_id]])]),e("div",kt,[t[18]||(t[18]=e("label",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-300 ml-6"},"Encryption Key (Password)",-1)),T(e("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>f(o).password=r),type:"password",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20",required:!p.value,placeholder:p.value?"Leave blank to keep current":""},null,8,Tt),[[R,f(o).password]])]),e("div",jt,[e("button",{type:"button",onClick:t[7]||(t[7]=r=>d.value=!1),class:"flex-1 bg-slate-100 rounded-[30px] py-5 font-black uppercase tracking-widest text-[11px] text-[#222] hover:bg-slate-200 transition-all"},"Cancel"),e("button",{type:"submit",disabled:f(o).processing,class:"flex-1 bg-brand-500 text-white rounded-[30px] py-5 font-black uppercase tracking-widest text-[11px] shadow-xl shadow-brand-500/20 hover:bg-brand-600 transition-all disabled:opacity-50"},v(p.value?"Update Node":"Deploy Node"),9,St)])],32)])])])):ie("",!0)]),_:1})],64))}};export{Nt as default};
