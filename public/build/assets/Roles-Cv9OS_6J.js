import{u as S,c as a,a as v,b as l,h as F,w as h,d as e,o as r,F as u,r as b,t as n,f as m,v as f,n as k,g as _,i as N,k as w,s as y}from"./app-CwSgfrF7.js";import{_ as V}from"./AdminLayout-ByBs5Sq6.js";import{c as B}from"./CartStore-ZGfwtq5b.js";const D={class:"space-y-12"},M={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},U={class:"flex justify-between items-start mb-6"},z={class:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center font-black text-brand-500 group-hover:bg-brand-500 group-hover:text-white transition-all"},L={class:"flex gap-2"},$=["onClick"],q={class:"text-xl font-black text-[#222] tracking-tight"},R={class:"text-[10px] font-black text-slate-300 uppercase tracking-widest mt-2"},E={class:"text-xs text-slate-400 font-medium mt-6 line-clamp-2 min-h-[3em]"},O={class:"mt-8 pt-8 border-t border-slate-50 flex items-center justify-between"},T={class:"flex items-center gap-2"},H={class:"text-lg font-black text-[#222]"},I={class:"text-[9px] font-black uppercase text-brand-500 bg-brand-50 px-3 py-1 rounded-full"},G={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-8"},J={class:"bg-white w-full max-w-4xl rounded-[60px] relative z-10 overflow-hidden shadow-2xl border border-white/20 animate-slide-in h-[85vh] flex flex-col"},K={class:"p-12 overflow-y-auto flex-1"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-12"},W={class:"space-y-8"},X={class:"space-y-2"},Y={class:"space-y-2"},Z={class:"space-y-2"},ee={class:"space-y-8"},te={class:"space-y-6 max-h-[500px] overflow-y-auto pr-4 scrollbar-hide"},se={class:"text-[9px] font-black uppercase tracking-[0.2em] text-[#222] bg-slate-50 px-4 py-1.5 rounded-full inline-block"},oe={class:"grid grid-cols-1 gap-2"},le=["onClick"],ie={class:"text-[11px] font-bold text-[#222]"},ne={key:0,class:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"4"},ae={class:"p-12 bg-slate-50/50 border-t border-slate-100/50 flex gap-4"},re=["disabled"],xe={__name:"Roles",props:{roles:Array,permissions:Object},setup(g){const d=w(!1),p=w(null),s=S({name:"",label:"",description:"",permissions:[]}),C=()=>{p.value=null,s.reset(),d.value=!0},j=i=>{p.value=i,s.name=i.name,s.label=i.label,s.description=i.description||"",s.permissions=i.permissions?i.permissions.map(t=>t.id):[],d.value=!0},A=()=>{p.value?s.put(route("admin.roles.update",p.value.id),{onSuccess:()=>{d.value=!1,y.notify("Security role updated")}}):s.post(route("admin.roles.store"),{onSuccess:()=>{d.value=!1,y.notify("Security role created")}})},P=i=>{const t=s.permissions.indexOf(i);t>-1?s.permissions.splice(t,1):s.permissions.push(i)};return(i,t)=>(r(),a(u,null,[v(l(F),{title:"Security Access Matrix"}),v(V,null,{header:h(()=>[N(n(l(B).language==="ar"?"أدوار النظام":"Security Access Matrix"),1)]),default:h(()=>[e("div",D,[e("div",{class:"flex justify-between items-center bg-white p-10 rounded-[50px] border border-slate-50 shadow-[0_20px_60px_rgba(0,0,0,0.02)]"},[t[5]||(t[5]=e("div",null,[e("h3",{class:"text-3xl font-black text-[#222] tracking-tighter"},"Access Protocols"),e("p",{class:"text-[10px] font-black text-slate-300 uppercase tracking-[0.4em] mt-2"},"Role Based Access Control")],-1)),e("button",{onClick:C,class:"bg-[#222] hover:bg-brand-500 text-white px-8 py-4 rounded-[28px] font-black uppercase tracking-widest text-[11px] transition-all shadow-xl shadow-black/10 active:scale-95"}," + Define New Protocol ")]),e("div",M,[(r(!0),a(u,null,b(g.roles,o=>(r(),a("div",{key:o.id,class:"bg-white p-8 rounded-[40px] border border-slate-50 shadow-[0_20px_60px_rgba(0,0,0,0.02)] hover:shadow-[0_40px_100px_rgba(0,0,0,0.05)] transition-all group"},[e("div",U,[e("div",z,n(o.name.charAt(0).toUpperCase()),1),e("div",L,[e("button",{onClick:x=>j(o),class:"text-slate-300 hover:text-brand-500 transition-all"},[...t[6]||(t[6]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,$)])]),e("h4",q,n(o.label),1),e("p",R,n(o.name),1),e("p",E,n(o.description||"No specialized mission description provided."),1),e("div",O,[e("div",T,[e("span",H,n(o.users_count||0),1),t[7]||(t[7]=e("span",{class:"text-[9px] font-black uppercase text-slate-300 tracking-widest"},"Nodes Active",-1))]),e("span",I,n(o.permissions_count||0)+" Protocols",1)])]))),128))])]),d.value?(r(),a("div",G,[e("div",{class:"absolute inset-0 bg-[#222]/80 backdrop-blur-md",onClick:t[0]||(t[0]=o=>d.value=!1)}),e("div",J,[e("div",K,[t[13]||(t[13]=e("h3",{class:"text-3xl font-black text-[#222] tracking-tighter mb-10"},"Access Protocol Configuration",-1)),e("div",Q,[e("div",W,[e("div",X,[t[8]||(t[8]=e("label",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-300 ml-6"},"Unique Identifier",-1)),m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>l(s).name=o),type:"text",placeholder:"e.g. system_admin",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20",required:""},null,512),[[f,l(s).name]])]),e("div",Y,[t[9]||(t[9]=e("label",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-300 ml-6"},"Display Label",-1)),m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>l(s).label=o),type:"text",placeholder:"e.g. System Administrator",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20",required:""},null,512),[[f,l(s).label]])]),e("div",Z,[t[10]||(t[10]=e("label",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-300 ml-6"},"Mission Description",-1)),m(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=o=>l(s).description=o),class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20 h-32"},null,512),[[f,l(s).description]])])]),e("div",ee,[t[12]||(t[12]=e("label",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-300 ml-6"},"Permission Protocols",-1)),e("div",te,[(r(!0),a(u,null,b(g.permissions,(o,x)=>(r(),a("div",{key:x,class:"space-y-3"},[e("h5",se,n(x),1),e("div",oe,[(r(!0),a(u,null,b(o,c=>(r(),a("div",{key:c.id,onClick:de=>P(c.id),class:k(["flex items-center justify-between p-4 rounded-2xl cursor-pointer transition-all border",l(s).permissions.includes(c.id)?"bg-brand-50 border-brand-500/20":"bg-white border-slate-50 hover:bg-slate-50"])},[e("span",ie,n(c.label),1),e("div",{class:k(["w-5 h-5 rounded-md border flex items-center justify-center transition-all",l(s).permissions.includes(c.id)?"bg-brand-500 border-brand-500":"border-slate-200"])},[l(s).permissions.includes(c.id)?(r(),a("svg",ne,[...t[11]||(t[11]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])):_("",!0)],2)],10,le))),128))])]))),128))])])])]),e("div",ae,[e("button",{type:"button",onClick:t[4]||(t[4]=o=>d.value=!1),class:"flex-1 bg-white border border-slate-100 rounded-[30px] py-5 font-black uppercase tracking-widest text-[11px] text-[#222] hover:bg-slate-50 transition-all shadow-sm"},"Cancel"),e("button",{onClick:A,disabled:l(s).processing,class:"flex-1 bg-brand-500 text-white rounded-[30px] py-5 font-black uppercase tracking-widest text-[11px] shadow-xl shadow-brand-500/20 hover:bg-brand-600 transition-all disabled:opacity-50"},n(p.value?"Update Security Protocol":"Deploy Protocol"),9,re)])])])):_("",!0)]),_:1})],64))}};export{xe as default};
