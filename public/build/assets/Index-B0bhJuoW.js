import{u as N,c,a as v,b as n,h as j,w as k,d as e,o as p,F as h,r as U,n as b,t as l,g as y,e as $,f as d,v as u,l as F,i as z,j as w,s as x,k as _}from"./app-CwSgfrF7.js";import{_ as A}from"./AdminLayout-ByBs5Sq6.js";import{c as P}from"./CartStore-ZGfwtq5b.js";const T={class:"space-y-12"},I={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"},B={class:"p-10 text-center"},D={class:"w-20 h-20 bg-slate-50 rounded-3xl mx-auto flex items-center justify-center font-black text-brand-500 text-2xl mb-6 shadow-inner group-hover:bg-brand-500 group-hover:text-white transition-all duration-500"},E={class:"text-xl font-black text-[#222] tracking-tight"},q={class:"text-brand-500 font-bold mt-2 text-lg"},R={key:0,class:"text-[10px] uppercase font-black tracking-widest text-slate-300 mt-2"},O=["dir"],H={class:"flex items-center justify-between text-[10px] font-black uppercase tracking-widest text-slate-400"},G=["onClick"],J={class:"flex items-center justify-between text-[10px] font-black uppercase tracking-widest text-slate-400"},K={class:"flex items-center justify-between text-[10px] font-black uppercase tracking-widest text-slate-400"},Q={class:"flex gap-4 mt-8"},W=["onClick"],X=["onClick"],Y={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-8"},Z={class:"bg-white w-full max-w-xl rounded-[60px] relative z-10 overflow-hidden shadow-2xl border border-white/20 animate-slide-in"},ee={class:"p-12"},te={class:"text-3xl font-black text-[#222] tracking-tighter mb-10"},se={class:"grid grid-cols-2 gap-8"},ae={class:"space-y-2"},oe={class:"space-y-2"},ne={class:"space-y-2"},le={class:"space-y-2"},re={class:"grid grid-cols-2 gap-8"},ie={class:"space-y-2"},de={class:"space-y-2"},ce={class:"flex items-center gap-4 bg-slate-50 rounded-[30px] px-8 py-5 h-[60px]"},pe={class:"flex gap-4 pt-4"},ue=["disabled"],fe={__name:"Index",props:{packages:Array},setup(m){const f=m,r=_(!1),i=_(null),a=N({name:"",points:"",price:"",payment_link:"",active:!0,sort_order:0}),S=()=>{i.value=null,a.reset(),a.sort_order=f.packages.length>0?Math.max(...f.packages.map(o=>o.sort_order))+1:1,r.value=!0},C=o=>{i.value=o,a.name=o.name||"",a.points=o.points,a.price=o.price,a.payment_link=o.payment_link||"",a.active=!!o.active,a.sort_order=o.sort_order,r.value=!0},M=()=>{i.value?a.put(route("lms-packages.update",i.value.id),{onSuccess:()=>{r.value=!1,x.notify("LMS Package updated")}}):a.post(route("lms-packages.store"),{onSuccess:()=>{r.value=!1,x.notify("LMS Package created")}})},V=o=>{confirm(`Remove package node ${o.points} PTS?`)&&w.delete(route("lms-packages.destroy",o.id),{onSuccess:()=>x.notify("Package removed","error")})},L=o=>{w.put(route("lms-packages.update",o.id),{...o,active:!o.active,_method:"PUT"},{onSuccess:()=>x.notify(`Package ${o.active?"deactivated":"activated"}`),preserveScroll:!0})};return(o,t)=>(p(),c(h,null,[v(n(j),{title:"LMS Points Management"}),v(A,null,{header:k(()=>[z(l(n(P).language==="ar"?"إدارة نقاط LMS":"LMS Points Infrastructure"),1)]),default:k(()=>[e("div",T,[e("div",{class:"flex justify-between items-center bg-white p-10 rounded-[50px] border border-slate-50 shadow-[0_20px_60px_rgba(0,0,0,0.02)]"},[t[8]||(t[8]=e("div",null,[e("h3",{class:"text-2xl font-black text-[#222] tracking-tighter"},"Package Cluster Management"),e("p",{class:"text-[10px] font-black text-slate-300 uppercase tracking-[0.3em] mt-2"},"Configure smart printing value nodes")],-1)),e("button",{onClick:S,class:"bg-[#222] hover:bg-brand-500 text-white px-10 py-5 rounded-[28px] font-black uppercase tracking-widest text-[11px] transition-all shadow-xl shadow-black/10 active:scale-95"}," + Initialize Package ")]),e("div",I,[(p(!0),c(h,null,U(m.packages,s=>(p(),c("div",{key:s.id,class:b(["bg-white rounded-[50px] border border-slate-50 shadow-[0_30px_60px_rgba(0,0,0,0.02)] overflow-hidden group hover:shadow-[0_40px_80px_rgba(0,0,0,0.05)] transition-all duration-500 relative",!s.active&&"opacity-60 saturate-50 bg-slate-50"])},[e("div",B,[e("div",D,l(s.points),1),e("h4",E,l(s.points)+" PTS",1),e("p",q,l(s.price),1),s.name?(p(),c("p",R,l(s.name),1)):y("",!0),e("div",{class:"mt-8 pt-8 border-t border-slate-50 space-y-4 text-right",dir:n(P).language==="ar"?"rtl":"ltr"},[e("div",H,[t[9]||(t[9]=e("span",null,"Status",-1)),e("button",{onClick:g=>L(s),class:b([s.active?"text-emerald-500":"text-slate-300","hover:underline"])},l(s.active?"Active Node":"Suspended"),11,G)]),e("div",J,[t[10]||(t[10]=e("span",null,"Payment Link",-1)),e("span",{class:b(s.payment_link?"text-blue-500":"text-red-400")},l(s.payment_link?"Configured":"Link Not Set"),3)]),e("div",K,[t[11]||(t[11]=e("span",null,"Rank",-1)),e("span",null,l(s.sort_order),1)])],8,O),e("div",Q,[e("button",{onClick:g=>C(s),class:"flex-1 bg-slate-50 hover:bg-white border border-slate-100 p-4 rounded-2xl text-slate-400 hover:text-brand-500 transition-all font-black text-[10px] uppercase tracking-widest"},"Edit",8,W),e("button",{onClick:g=>V(s),class:"p-4 bg-slate-50 hover:bg-red-50 border border-slate-100 rounded-2xl text-slate-400 hover:text-red-500 transition-all"},[...t[12]||(t[12]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,X)])])],2))),128))])]),r.value?(p(),c("div",Y,[e("div",{class:"absolute inset-0 bg-[#222]/80 backdrop-blur-md",onClick:t[0]||(t[0]=s=>r.value=!1)}),e("div",Z,[e("div",ee,[e("h3",te,l(i.value?"Update Package Node":"Initialize Package Node"),1),e("form",{onSubmit:$(M,["prevent"]),class:"space-y-8"},[e("div",se,[e("div",ae,[t[13]||(t[13]=e("label",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-300 ml-6"},"Points Value",-1)),d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>n(a).points=s),type:"number",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20 shadow-inner",required:""},null,512),[[u,n(a).points]])]),e("div",oe,[t[14]||(t[14]=e("label",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-300 ml-6"},"Monetary Price",-1)),d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>n(a).price=s),type:"text",placeholder:"e.g. 25 جنيه",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20 shadow-inner",required:""},null,512),[[u,n(a).price]])])]),e("div",ne,[t[15]||(t[15]=e("label",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-300 ml-6"},"Package Trace Name (Optional)",-1)),d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>n(a).name=s),type:"text",placeholder:"Internal name for tracking",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20 shadow-inner"},null,512),[[u,n(a).name]])]),e("div",le,[t[16]||(t[16]=e("label",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-300 ml-6"},"External Payment Link",-1)),d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>n(a).payment_link=s),type:"url",placeholder:"https://...",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20 shadow-inner"},null,512),[[u,n(a).payment_link]])]),e("div",re,[e("div",ie,[t[17]||(t[17]=e("label",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-300 ml-6"},"Deployment Rank",-1)),d(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>n(a).sort_order=s),type:"number",class:"w-full bg-slate-50 border-none rounded-[30px] px-8 py-5 text-sm font-bold focus:ring-2 focus:ring-brand-500/20 shadow-inner",required:""},null,512),[[u,n(a).sort_order]])]),e("div",de,[t[19]||(t[19]=e("label",{class:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-300 ml-6"},"Operational Status",-1)),e("div",ce,[d(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>n(a).active=s),type:"checkbox",class:"w-6 h-6 rounded-lg border-none bg-white text-brand-500 focus:ring-brand-500 focus:ring-offset-0"},null,512),[[F,n(a).active]]),t[18]||(t[18]=e("span",{class:"text-sm font-bold text-[#222]"},"Active for users",-1))])])]),e("div",pe,[e("button",{type:"button",onClick:t[7]||(t[7]=s=>r.value=!1),class:"flex-1 bg-slate-100 rounded-[30px] py-5 font-black uppercase tracking-widest text-[11px] text-[#222] hover:bg-slate-200 transition-all"},"Abort"),e("button",{type:"submit",disabled:n(a).processing,class:"flex-1 bg-brand-500 text-white rounded-[30px] py-5 font-black uppercase tracking-widest text-[11px] shadow-xl shadow-brand-500/20 hover:bg-brand-600 transition-all disabled:opacity-50"},l(i.value?"Synchronize Package":"Deploy Package"),9,ue)])],32)])])])):y("",!0)]),_:1})],64))}};export{fe as default};
