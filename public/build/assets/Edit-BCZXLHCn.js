import{u as D,c as a,a as d,b as s,h as E,w as f,d as e,e as k,o as i,t as x,g as h,f as b,F as y,r as _,p as w,v as V,i as v,q as U}from"./app-CwSgfrF7.js";import{_ as $}from"./AdminLayout-ByBs5Sq6.js";import{_ as u,a as c}from"./InputLabel-D1Xd08uI.js";import{P as B}from"./PrimaryButton-ekfNIuHi.js";import{_ as C}from"./SecondaryButton-J7GUzc5M.js";import"./CartStore-ZGfwtq5b.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"py-6"},M={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},N={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},F={key:0,class:"text-red-500 text-xs mt-1"},L={dir:"rtl"},G=["value"],O={class:"col-span-2"},H={key:0,class:"text-red-500 text-xs mt-1"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},R={dir:"rtl"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-6 p-6 bg-gray-50 rounded-xl"},J={class:"mb-2"},W=["src"],Y={key:0,class:"flex flex-wrap gap-2 mb-2"},z=["src"],Q=["onClick"],Z={class:"space-y-4"},ee={class:"flex items-center justify-between"},te=["onClick"],le={class:"space-y-4 pt-6 border-t border-gray-200"},oe={class:"flex items-center justify-between"},se={class:"flex gap-4"},de=["onUpdate:modelValue"],re=["onClick"],ae=["onUpdate:modelValue"],ie={class:"flex justify-end pt-6 border-t border-gray-200"},be={__name:"Edit",props:{product:Object,categories:Array},setup(p){const r=p,o=D({_method:"PUT",name:r.product.name,name_ar:r.product.name_ar,description_en:r.product.description_en||r.product.description,description_ar:r.product.description_ar,price:r.product.price,cost_price:r.product.cost_price,stock_quantity:r.product.stock_quantity,category_id:r.product.category_id,sku:r.product.sku||"",youtube_url:r.product.youtube_url,main_image:null,gallery_images:[],specs:r.product.specs||[],codes:r.product.codes||[]}),A=()=>{o.post(route("admin.products.update",r.product.id),{forceFormData:!0})},P=()=>{o.specs.push({label:"",value:""})},S=m=>{o.specs.splice(m,1)},j=()=>{o.codes.push({title:"",language:"javascript",code:""})},q=m=>{o.codes.splice(m,1)},T=m=>{confirm("Are you sure you want to delete this image?")&&U.visit(route("admin.products.image.delete",m),{method:"delete"})};return(m,l)=>(i(),a(y,null,[d(s(E),{title:"Edit Product"}),d($,null,{header:f(()=>[v("Adjust Asset: "+x(p.product.name),1)]),default:f(()=>[e("div",I,[e("div",M,[e("form",{onSubmit:k(A,["prevent"]),class:"space-y-12 bg-white p-10 rounded-[40px] border border-slate-100 shadow-sm transition-all hover:shadow-2xl"},[e("div",N,[e("div",null,[d(u,{value:"Product Name (English)"}),d(c,{modelValue:s(o).name,"onUpdate:modelValue":l[0]||(l[0]=t=>s(o).name=t),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),s(o).errors.name?(i(),a("div",F,x(s(o).errors.name),1)):h("",!0)]),e("div",L,[d(u,{value:"اسم المنتج (Arabic)",class:"text-right"}),d(c,{modelValue:s(o).name_ar,"onUpdate:modelValue":l[1]||(l[1]=t=>s(o).name_ar=t),type:"text",class:"mt-1 block w-full text-right"},null,8,["modelValue"])]),e("div",null,[d(u,{value:"Selling Price (EGP)"}),d(c,{modelValue:s(o).price,"onUpdate:modelValue":l[2]||(l[2]=t=>s(o).price=t),type:"number",step:"0.01",class:"mt-1 block w-full",required:""},null,8,["modelValue"])]),e("div",null,[d(u,{value:"Cost Price (EGP)"}),d(c,{modelValue:s(o).cost_price,"onUpdate:modelValue":l[3]||(l[3]=t=>s(o).cost_price=t),type:"number",step:"0.01",class:"mt-1 block w-full"},null,8,["modelValue"])]),e("div",null,[d(u,{value:"Warehouse Stock"}),d(c,{modelValue:s(o).stock_quantity,"onUpdate:modelValue":l[4]||(l[4]=t=>s(o).stock_quantity=t),type:"number",class:"mt-1 block w-full"},null,8,["modelValue"])]),e("div",null,[d(u,{value:"Category Architecture"}),b(e("select",{"onUpdate:modelValue":l[5]||(l[5]=t=>s(o).category_id=t),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},[(i(!0),a(y,null,_(p.categories,t=>(i(),a("option",{key:t.id,value:t.id},x(t.name),9,G))),128))],512),[[w,s(o).category_id]])]),e("div",O,[d(u,{value:"YouTube Video URL (Optional)"}),d(c,{modelValue:s(o).youtube_url,"onUpdate:modelValue":l[6]||(l[6]=t=>s(o).youtube_url=t),type:"url",placeholder:"https://youtube.com/watch?v=...",class:"mt-1 block w-full"},null,8,["modelValue"])]),e("div",null,[d(u,{value:"SKU (Unique Identifier)"}),d(c,{modelValue:s(o).sku,"onUpdate:modelValue":l[7]||(l[7]=t=>s(o).sku=t),type:"text",placeholder:"e.g. THK-MCU-001",class:"mt-1 block w-full"},null,8,["modelValue"]),s(o).errors.sku?(i(),a("div",H,x(s(o).errors.sku),1)):h("",!0)])]),e("div",K,[e("div",null,[d(u,{value:"Description (English)"}),b(e("textarea",{"onUpdate:modelValue":l[8]||(l[8]=t=>s(o).description_en=t),rows:"4",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[V,s(o).description_en]])]),e("div",R,[d(u,{value:"الوصف (Arabic)",class:"text-right"}),b(e("textarea",{"onUpdate:modelValue":l[9]||(l[9]=t=>s(o).description_ar=t),rows:"4",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm text-right"},null,512),[[V,s(o).description_ar]])])]),e("div",X,[e("div",null,[d(u,{value:"Change Main Image"}),e("div",J,[e("img",{src:p.product.image_url,class:"h-20 w-20 object-cover rounded-lg border border-gray-300"},null,8,W)]),e("input",{type:"file",onInput:l[10]||(l[10]=t=>s(o).main_image=t.target.files[0]),class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",accept:"image/*"},null,32)]),e("div",null,[d(u,{value:"Add Gallery Images"}),p.product.images&&p.product.images.length?(i(),a("div",Y,[(i(!0),a(y,null,_(p.product.images,t=>(i(),a("div",{key:t.id,class:"relative group"},[e("img",{src:t.image_path,class:"h-16 w-16 object-cover rounded-lg border border-gray-300"},null,8,z),e("button",{onClick:k(g=>T(t.id),["prevent"]),class:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-0.5 transform translate-x-1/2 -translate-y-1/2 text-xs shadow-md type='button'"},"X",8,Q)]))),128))])):h("",!0),e("input",{type:"file",multiple:"",onInput:l[11]||(l[11]=t=>s(o).gallery_images=Array.from(t.target.files)),class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100",accept:"image/*"},null,32)])]),e("div",Z,[e("div",ee,[l[13]||(l[13]=e("h3",{class:"text-lg font-bold text-gray-900"},"Technical Specifications",-1)),d(C,{onClick:P,type:"button"},{default:f(()=>[...l[12]||(l[12]=[v("+ Add Spec",-1)])]),_:1})]),(i(!0),a(y,null,_(s(o).specs,(t,g)=>(i(),a("div",{key:g,class:"flex gap-4 items-start"},[d(c,{modelValue:t.label,"onUpdate:modelValue":n=>t.label=n,placeholder:"Label (e.g. Dimensions)",class:"flex-1"},null,8,["modelValue","onUpdate:modelValue"]),d(c,{modelValue:t.value,"onUpdate:modelValue":n=>t.value=n,placeholder:"Value (e.g. 10x10mm)",class:"flex-1"},null,8,["modelValue","onUpdate:modelValue"]),e("button",{onClick:n=>S(g),type:"button",class:"text-red-500 hover:text-red-700 font-bold px-2 py-2"},"X",8,te)]))),128))]),e("div",le,[e("div",oe,[l[15]||(l[15]=e("h3",{class:"text-lg font-bold text-gray-900"},"Code Blocks (Developer Docs)",-1)),d(C,{onClick:j,type:"button"},{default:f(()=>[...l[14]||(l[14]=[v("+ Add Code Block",-1)])]),_:1})]),(i(!0),a(y,null,_(s(o).codes,(t,g)=>(i(),a("div",{key:g,class:"space-y-3 p-4 bg-gray-900 rounded-xl border border-gray-700"},[e("div",se,[d(c,{modelValue:t.title,"onUpdate:modelValue":n=>t.title=n,placeholder:"Title (Optional)",class:"flex-1 bg-gray-800 text-white border-gray-700"},null,8,["modelValue","onUpdate:modelValue"]),b(e("select",{"onUpdate:modelValue":n=>t.language=n,class:"bg-gray-800 text-white border-gray-700 rounded-md h-10 px-3"},[...l[16]||(l[16]=[e("option",{value:"javascript"},"JavaScript",-1),e("option",{value:"python"},"Python",-1),e("option",{value:"cpp"},"C++",-1),e("option",{value:"arduino"},"Arduino",-1),e("option",{value:"html"},"HTML",-1)])],8,de),[[w,t.language]]),e("button",{onClick:n=>q(g),type:"button",class:"text-red-400 hover:text-red-300 font-bold px-2"},"Remove",8,re)]),b(e("textarea",{"onUpdate:modelValue":n=>t.code=n,rows:"4",placeholder:"// Paste your code here...",class:"w-full bg-gray-800 text-green-400 font-mono text-sm rounded-md border-gray-700 focus:ring-green-500 focus:border-green-500"},null,8,ae),[[V,t.code]])]))),128))]),e("div",ie,[d(s(U),{href:m.route("admin.products.index"),class:"mr-4 px-4 py-2 text-gray-600 hover:text-gray-900"},{default:f(()=>[...l[17]||(l[17]=[v("Cancel",-1)])]),_:1},8,["href"]),d(B,{disabled:s(o).processing},{default:f(()=>[...l[18]||(l[18]=[v("Update Product",-1)])]),_:1},8,["disabled"])])],32)])])]),_:1})],64))}};export{be as default};
